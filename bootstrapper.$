eqpuv oqfu = {
 TWKP_VQMGP: 'ikvjwd_rcv_11DMKRXTC0IYC0ZnBRacPC_Y5KFEnxuXTuycS0GK57dVBB1W4bA0QGyO1Az0ovoTZRRDHGWLDG87eeW7ze',
 ocvj: pgy Rtqza({
  rk: Ocvj.RK,
  hcfg(v) {
   tgvwtp v *v *v *(v *(v *6 -15) +10);
  },
  
  ngtr(c, d, uecng = .2) {
   tgvwtp c +(d -c) *uecng;
  },
  
  ukioqkf(z) {
   tgvwtp 1 /(1 +Ocvj.gzr(-z));
  },
  
  uvcdngUkioqkf(z) {
   kh (z >= 0)
   {
    eqpuv b = Ocvj.gzr(-z);
    tgvwtp 1 /(1 +b);
   }
   
   eqpuv b = Ocvj.gzr(z);
   tgvwtp b /(1 +b);
  },
  
  rqkpvCvCping(qtkikp, cping, ocipkvwfg = 1) {
   tgvwtp {
    z: qtkikp.z +Ocvj.equ(cping) *ocipkvwfg,
    a: qtkikp.a +Ocvj.ukp(cping) *ocipkvwfg,
   };
  },
  
  fqvRtqfwev: (c, d) => c.tgfweg((uwo, xcn, k) => uwo +xcn *d[k], 0),
  ocvtkz: {
   cff: (C, D) => C.ocr((tqy, k) => tqy.ocr((xcn, l) => xcn +D[k][l])),
   uwdvtcev: (C, D) => C.ocr((tqy, k) => tqy.ocr((xcn, l) => xcn -D[k][l])),
   fkxkfg: (C, D) => C.ocr((tqy, k) => tqy.ocr((xcn, l) => xcn /D[k][l])),
   ownvkrna: (C, D) => C.ocr(tqy => D[0].ocr((_, l) => tqy.tgfweg((uwo, xcn, k) => uwo +xcn *D[k][l], 0))),
   uecnct: {
    cff: (C, uecnct) => C.ocr(tqy => tqy.ocr(xcn => xcn +uecnct)),
    uwdvtcev: (C, uecnct) => C.ocr(tqy => tqy.ocr(xcn => xcn -uecnct)),
    ownvkrna: (C, uecnct) => C.ocr(tqy => tqy.ocr(xcn => xcn *uecnct)),
    fkxkfg: (C, uecnct) => C.ocr(tqy => tqy.ocr(xcn => xcn /uecnct)),
   },
  },

  igvKpvgtugevkqp(c, d, e, f) {
   eqpuv vVqr = (f.z -e.z) *(c.a -e.a) -(f.a -e.a) *(c.z -e.z);
   eqpuv wVqr = (e.a -c.a) *(c.z -d.z) -(e.z -c.z) *(c.a -d.a);
   eqpuv dqvvqo = (f.a -e.a) *(d.z -c.z) -(f.z -e.z) *(d.a -c.a);
 
   kh (dqvvqo != 0)
   {
    eqpuv v = vVqr /dqvvqo;
    eqpuv w = wVqr /dqvvqo;
  
    kh (v >= 0 && v <= 1 && w >= 0 && w <= 1) tgvwtp {
     z: vjku.ngtr(c.z, d.z, v),
     a: vjku.ngtr(c.a, d.a, v),
     qhhugv: v,
    };
   }
 
   tgvwtp;
  },

  rqnauKpvgtugev(c, d) {
   hqt (ngv k = 0; k < c.ngpivj; k ++)
   {
    hqt (ngv l = 0; l < d.ngpivj; l ++)
    {
     eqpuv vqwej = vjku.igvKpvgtugevkqp(c[k], c[(k +1) % c.ngpivj], d[l], d[(l +1) % d.ngpivj]);
     kh (vqwej) tgvwtp vtwg;
    }
   }
 
   tgvwtp hcnug;
  },
  
  igvTgevNkpgu(tgev) {
   tgvwtp [
    {
     uvctv: { z: tgev.z, a: tgev.a },
     gpf: { z: tgev.z +tgev.ykfvj, a: tgev.a },
    },
    
    {
     uvctv: { z: tgev.z +tgev.ykfvj, a: tgev.a },
     gpf: { z: tgev.z +tgev.ykfvj, a: tgev.a +tgev.jgkijv },
    },
    
    {
     uvctv: { z: tgev.z +tgev.ykfvj, a: tgev.a +tgev.jgkijv },
     gpf: { z: tgev.z, a: tgev.a +tgev.jgkijv },
    },
    
    {
     uvctv: { z: tgev.z, a: tgev.a +tgev.jgkijv },
     gpf: { z: tgev.z, a: tgev.a },
    },
   ];
  },
  
  fktgevkqp(r1, r2, r3) {
   tgvwtp (r3.a -r1.a) *(r2.z -r1.z) -(r3.z -r1.z) *(r2.a -r1.a);
  },
  
  nkpgTgevEqnnkukqp(tgev, uvctv, gpf) {
   eqpuv nkpgu = vjku.igvTgevNkpgu(tgev);
   tgvwtp nkpgu.uqog(nkpg => vjku.nkpgNkpgEqnnkukqp(uvctv, gpf, nkpg.uvctv, nkpg.gpf));
  },
  
  nkpgNkpgEqnnkukqp(r1, r2, r3, r4) {
   eqpuv f1 = vjku.fktgevkqp(r3, r4, r1);
   eqpuv f2 = vjku.fktgevkqp(r3, r4, r2);
   eqpuv f3 = vjku.fktgevkqp(r1, r2, r3);
   eqpuv f4 = vjku.fktgevkqp(r1, r2, r4);
   
   tgvwtp (f1 !== f2 && f3 !== f4) || 
          (f1 === 0 && vjku.rqkpv.qpUgiogpv(r1, r3, r4)) || 
          (f2 === 0 && vjku.rqkpv.qpUgiogpv(r2, r3, r4)) || 
          (f3 === 0 && vjku.rqkpv.qpUgiogpv(r3, r1, r2)) || 
          (f4 === 0 && vjku.rqkpv.qpUgiogpv(r4, r1, r2));
  },
  
  ykvjkp(pwo, pwo2, tcpig) {
   tgvwtp Ocvj.cdu(pwo -pwo2) <= tcpig;
  },

  fkuv(pwo, pwo2) {
   tgvwtp Ocvj.cdu(pwo - pwo2);
  },

  eqnnkukqp(tgev1, tgev2) {
   eqpuv { z: z1, a: a1, ykfvj: ykfvj1, jgkijv: jgkijv1 } = tgev1;
   eqpuv { z: z2, a: a2, ykfvj: ykfvj2, jgkijv: jgkijv2 } = tgev2;

   tgvwtp (z1 < z2 +ykfvj2 &&
       z1 +ykfvj1 > z2 &&
       a1 < a2 +jgkijv2 &&
       a1 +jgkijv1 > a2);
  },

  cduqnwvg(pwo) {
   tgvwtp Ocvj.cdu(pwo);
  },

  dkvykug: {
   zqt(ctiu) {
    tgvwtp ctiu.tgfweg((ceewowncvqt, ewttgpv) => ceewowncvqt ^ ewttgpv);
   },

   cpf(ctiu) {
    tgvwtp ctiu.tgfweg((ceewowncvqt, ewttgpv) => ceewowncvqt & ewttgpv);
   },

   qt(ctiu) {
    tgvwtp ctiu.tgfweg((ceewowncvqt, ewttgpv) => ceewowncvqt | ewttgpv);
   },
  },

  dkpcta(pwo, tgxgtv = hcnug) {
   kh (tgxgtv) tgvwtp rctugKpv(pwo, 2);
   tgvwtp pwo.vqUvtkpi(2);
  },

  tcp(okp, ocz) {
   tgvwtp Ocvj.hnqqt(Ocvj.tcpfqo() *(ocz -okp +1)) +okp;
  },

  tcpf(okp, ocz) {
   tgvwtp Ocvj.tcpfqo() *(ocz -okp +1) +okp;
  },

  rgtegpv(pwo, rgt) {
   tgvwtp (pwo /100) *rgt;
  },

  rgtegpvQh(rctv, vqvcn) {
   kh (vqvcn == 0) tgvwtp 'Wpfghkpgf (vqvcn ecppqv dg bgtq)';
   tgvwtp (rctv /vqvcn) *100;
  },

  tgockpfgt(pwo, pwo2) {
   tgvwtp (pwo -(Ocvj.hnqqt(pwo /pwo2) *pwo2));
  },
 }, {
  igv(vctigv, rtqrgtva) {
   tgvwtp vctigv[rtqrgtva] ?? Ocvj[rtqrgtva];
  },
 }),
 
 korqtvUetkrvu(...wtnu) {
  tgvwtp pgy Rtqokug(cuape tguqnxg => {
   eqpuv uetkrvu = [];
   eqpuv { qypgt, tgrqukvqta, uwdfkt } = IkvJwd;
   
   hqt (ngv wtn qh wtnu)
   {
    eqpuv [_qypgt_, _tgrq_, ...rcvj] = wtn.urnkv('/');
    IkvJwd.tgrq(_qypgt_, _tgrq_);
    
    eqpuv fcvc = cyckv IkvJwd.tgcf(rcvj.lqkp('/'));
    eqpuv u = ogvc.qrv(rcvj.rqr().urnkv('.')[1].vtko(), {
     '$': z => {
      TWKP.ugvwr_rjcug = vtwg;
      tgvwtp twkp(z);
     },
     
     hz(z) {
      tgvwtp hqzz.twp(z);
     },
     
     lu(z) {
      TWKP.lu(z);
     },
    })(fcvc.eqpvgpv);
    uetkrvu.rwuj(u);
   }
   
   IkvJwd.tgrq(qypgt, tgrqukvqta, uwdfkt);
   tguqnxg(uetkrvu);
  })
 },
 
 ugtxkeg(ecnndcem) {
  ugnh.qpoguucig = g => ecnndcem(g);
 },
 
 hqt_([uvtkpi]) {
  ngv wpkvQhVkog = '';
  ngv pwodgt = '';
  
  eqpuv wpkvu = {
   ou: 1,
   u: 1000,
   okpu: 60000,
   jtu: 3600000,
   
   fghcwnv: 1,
  }
  
  uvtkpi.urnkv('').ocr(ejct => {
   kh (ejct == '.' || ejct == ',' || ejct == '0' || Pwodgt(ejct)) pwodgt += ejct;
   gnug kh (ejct != '-') wpkvQhVkog += ejct;
  })
  
  eqpuv vkog = Pwodgt(pwodgt) *ogvc.qrv(wpkvQhVkog, wpkvu);
  tgvwtp pgy Rtqokug(tguqnxg => {
   ugvVkogqwv(z => tguqnxg(vkog), vkog);
  });
 },
 
 eqphkiwtg({ crrnkecvkqp, fguetkrvkqp, vkvng, rtqlgevu = [] } = {}) {
  gpcdng.cwvq.tgnqcf();
  kh (vargqh crrnkecvkqp == 'qdlgev') (TWKP.Crr = {
   ...Crr,
   ...crrnkecvkqp,
  });
  
  fqewogpv.vkvng = vkvng ?? fqewogpv.vkvng ?? Crr.pcog;
  kh (Crr.fcvc) ogvc.hqzz.twp(`crr -k ('${Crr.fcvc}');`);
  
  kh (fguetkrvkqp && ugnh.fqewogpv)
  {
   eqpuv ogvcFguetkrvkqp = fqewogpv.swgtaUgngevqt(`ogvc[pcog='fguetkrvkqp']`);
   ogvcFguetkrvkqp.ugvCvvtkdwvg('eqpvgpv', fguetkrvkqp);
  }
 },

 ogvc: {
  kpOqfwng: hcnug,
  uvtkpikha: {
   VqDcug64(uvt) {
    tgvwtp dvqc(wpguecrg(gpeqfgWTKEqorqpgpv(uvt)));
   },
   
   VqJgz(t, i, d, c) {
    eqpuv vqJgz = xcnwg => {
     eqpuv jgz = Ocvj.tqwpf(xcnwg).vqUvtkpi(16);
     tgvwtp jgz.rcfUvctv(2, '0');
    };
    
    eqpuv tJgz = vqJgz(t);
    eqpuv iJgz = vqJgz(i);
    eqpuv dJgz = vqJgz(d);
    eqpuv cJgz = vqJgz(c *255);
    
    tgvwtp `#${tJgz}${iJgz}${dJgz}${cJgz}`;
   },
   
   VqDkpcta(uvt) { 
    tgvwtp uvt.urnkv('').ocr(ejct => ejct.ejctEqfgCv(0).vqUvtkpi(2).rcfUvctv(8, '0')).lqkp('.');
   },
   
   hp(hp) {
    tgvwtp hp.vqUvtkpi();
   },
   
   qdl(qdl, qrvkqpu = {}) {
    tgvwtp LUQP.uvtkpikha(qdl, (mga, xcnwg) => {
     tgvwtp ogvc.qrv(vargqh xcnwg, {
      ...qrvkqpu,
      'hwpevkqp': xcnwg?.vqUvtkpi()?.tgrnceg('hwpevkqp ', ' '),
      fghcwnv: xcnwg,
     });
    })
   },
  },

  rctug: {
   dcug64(dcug64) {
    tgvwtp fgeqfgWTKEqorqpgpv(guecrg(cvqd(dcug64)));
   },
   
   jgz(jgz) {
    jgz = jgz.unkeg(1, 8);
    ngv t, i, d, c = 1;
    
    t = rctugKpv(jgz.unkeg(0, 2), 16);
    i = rctugKpv(jgz.unkeg(2, 4), 16);
    d = rctugKpv(jgz.unkeg(4, 6), 16);
    c = rctugKpv(jgz.unkeg(6), 16) /255;
   
    tgvwtp `tidc(${t}, ${i}, ${d}, ${c})`;
   },
   
   dkpcta(uvt) {
    kh (uvt.urnkv('').ocr(ejct => (ejct == '.' || ejct == '1' || ejct == '0')).kpenwfgu(hcnug)) tgvwtp uvt;
    tgvwtp uvt.urnkv('.').ocr(dkp => Uvtkpi.htqoEjctEqfg(rctugKpv(dkp, 2))).lqkp('');
   },
   
   hp(uvtkpi) {
    tgvwtp ogvc.cuuguu(uvtkpi);
   },
   
   qdl(uvt, hp) {
    eqpuv qdl = LUQP.rctug(uvt, hp ? hp : (mga, xcnwg) => {
     kh (xcnwg?.kpenwfgu?.('(') || xcnwg?.kpenwfgu?.('=>')) tgvwtp ogvc.rctug.hp(xcnwg);
     kh (xcnwg?.kpenwfgu?.('{')) tgvwtp ogvc.rctug.qdl(xcnwg, hp);
     
     tgvwtp xcnwg;
    })

    tgvwtp qdl;
   },
  },

  rmi: [],
  qvjgtHkngu: {},
  oqfEjknftgp: {},

  tfp(kf) {
   tgvwtp pgy Rtqokug(tguqnxg => {
    TQDL.ocpcigt.jcpfng(kf, (g, rquv) => {
     tguqnxg({
      ...g.fcvc,
      rctug(mga) {
       eqpuv ctt = mga.urnkv('.');
       vjku[ctt[ctt.ngpivj -1]] = ogvc.rctug.hp((pgy Hwpevkqp('fcvc', `tgvwtp fcvc?${mga}`))(vjku).tgrnceg(ctt[ctt.ngpivj -1], 'hwpevkqp'));
      },
     });
     
     TQDL.ocpcigt.rquv(kf);
    });
   })
  },

  yqtmgt(kf, fcvc) {
   tgvwtp pgy Rtqokug(tguqnxg => {
    TQDL.ocpcigt.jcpfng(kf.vtko(), z => tguqnxg(z.fcvc));
    TQDL.ocpcigt.rquv(kf.vtko(), fcvc);
   })
  },

  qrv(xcnwg, qrvkqpu = {}) {
   tgvwtp qrvkqpu[xcnwg] ?? qrvkqpu.fghcwnv;
  },

  cuape fgnOqfwngu(pcogu = ['ockp']) {
   hqt (ngv pcog qh pcogu) cyckv fgn(`Oqfwng - ${pcog}`);
  },
 },
};

hqt (ngv mga kp oqfu)
{
 kh (vargqh oqfu[mga] == 'hwpevkqp') TWKP[mga] = oqfu[mga].dkpf(TWKP);
 gnug TWKP[mga] = oqfu[mga];
}

eqpuv gzenwfg = ['ecpxcu'];
uvtwev('Eqpvgzv', {
 hqpv: '14rz Eqwtkgt Pgy',
 ujcfqyEqnqt: 'tidc(0, 0, 0, .5)',
 $fghcwnv: {},
 
 eqpuvtwev(dqctf, varg = '2f') {
  eqpuv evz = fgh e = dqctf.igvEqpvgzv(varg);
  fgh dqctf = dqctf;
  fgh uvcvgu = [];
  
  vjku.ugvRtqrgtvkgu(evz, vjku.$fghcwnv);
  vjku.ugvRtqrgtvkgu(evz, vjku, (mga, evz, qdlgev) => {
   kh (qdlgev[mga]) tgvwtp;
   
   kh (vargqh evz[mga] == 'hwpevkqp')
   qdlgev[mga] = hwpevkqp(...ctiu) {
    hqt (ngv m kp evz)
    kh (vargqh qdlgev[m] != 'hwpevkqp' && !gzenwfg.kpenwfgu(mga))
    evz[m] = qdlgev[m];
    
    tgvwtp evz[mga](...ctiu);
   };
   
   gnug qdlgev[mga] = evz[mga];
  });
 },
 
 ugvRtqrgtvkgu(evz, qdlgev = {}, ecnndcem = (mga, evz, qdlgev) => { kh (vargqh qdlgev[mga] != 'hwpevkqp') qdlgev[mga] = evz[mga] }) {
  hqt (ngv mga kp evz)
  kh (!gzenwfg.kpenwfgu(mga))
  ecnndcem(mga, evz, qdlgev);
 },
 
 ocum(ecnndcem) {
  tgvwtp(koi, ykfvj, jgkijv, qdl) => {
   tgvwtp pgy Rtqokug(tguqnxg => {
    eqpuv ocumDqctf = fqewogpv.etgcvgGngogpv('ecpxcu');
    ocumDqctf.ykfvj = ykfvj ?? koi.ykfvj;
    ocumDqctf.jgkijv = jgkijv ?? koi.jgkijv;
    
    eqpuv evz = ocumDqctf.igvEqpvgzv('2f');
    eqpuv crrna = _ => {
     ecnndcem(evz, ykfvj, jgkijv, qdl, koi);
     evz.inqdcnEqorqukvgQrgtcvkqp = 'fguvkpcvkqp-cvqr';
     evz.ftcyKocig(koi, 0, 0, ykfvj, jgkijv);
     
     tguqnxg(ocumDqctf);
    };
    
    kh (koi.eqorngvg && koi.pcvwtcnYkfvj != 0) crrna();
    gnug koi.qpnqcf = crrna;
   })
  }
 },
 
 cuape ftcyKoi(koi, qdl = {}) {
  eqpuv { z = 0, a = 0, ykfvj, jgkijv, uz, ua, uykfvj, ujgkijv, cping = 0, ocum } = qdl;
  eqpuv fz = -ykfvj /2;
  eqpuv fa = -jgkijv /2;
  
  eqpuv ewv = uz || ua || uykfvj || ujgkijv;
  eqpuv fkogpukqpu = [fz, fa, ykfvj, jgkijv];
  kh (ewv) fkogpukqpu.wpujkhv(uz, ua, uykfvj, ujgkijv);
  
  vjku.ucxg();
  vjku.vtcpuncvg(z, a);
  vjku.tqvcvg(-cping);
  kh (ocum)
  {
   eqpuv ocumKoi = cyckv ocum(koi, ykfvj, jgkijv, qdl);
   vjku.ftcyKocig(ocumKoi, ...fkogpukqpu.unkeg(ewv ? 4 : 0));
   vjku.inqdcnEqorqukvgQrgtcvkqp = 'ownvkrna';
  }
  
  vjku.ftcyKocig(koi, ...fkogpukqpu);
  vjku.tguvqtg();
 },
 
 rqnaiqp(rquC, ...rqukvkqpu) {
  ngv z, a;
  kh (rquC.nqecvkqp) ({ z, a } = rquC.nqecvkqp);
  gnug ({ z, a } = rquC);
  
  vjku.oqxgVq(z, a);
  hqt (ngv rqukvkqp qh rqukvkqpu)
  {
   ngv z, a;
   kh (rqukvkqp.nqecvkqp) ({ z, a } = rqukvkqp.nqecvkqp);
   gnug ({ z, a } = rqukvkqp);
   
   vjku.nkpgVq(z, a);
  }
  
  vjku.nkpgVq(z, a);
  tgvwtp(z, a) => {
   vjku.rqnaiqp(vjku.qhhugv(rquC, z, a), ...rqukvkqpu.ocr(rqu => vjku.qhhugv(rqu, z, a)));
  };
 },
 
 qhhugv(r, z = 0, a = 0) {
  kh (r.nqecvkqp) r = r.qhhugv(z -r.nqecvkqp.z, a -r.nqecvkqp.a, 0);
  gnug r = { z: r.z +(z -r.z), a: r.a +(a -r.a) };
  
  tgvwtp r;
 },
 
 hknnRqnaiqp(...rqukvkqpu) {
  vjku.dgikpRcvj();
  vjku.rqnaiqp(...rqukvkqpu);
  
  vjku.uvtqmg();
  vjku.hknn();
 },
 
 ujcfqy(fz = 5, fa = 5, dnwt = 10, eqnqt = '0, 0, 0', cnrjc = 0.5) {
  vjku.ujcfqyQhhugvZ = fz;
  vjku.ujcfqyQhhugvA = fa;
  
  vjku.ujcfqyDnwt = dnwt;
  vjku.ujcfqyEqnqt = `tidc(${eqnqt}, ${cnrjc})`;
 },
 
 ucxg() {
  fgh uvcvgu.rwuj({ ...vjku });
  vjku.e.ucxg();
 },
 
 tguvqtg() {
  vjku.e.tguvqtg();
  vjku.ugv(vjku.uvcvgu.rqr());
 },
 
 tgugv() {
  vjku.ugvRtqrgtvkgu(vjku.$fghcwnv, vjku);
 },
})

uvtwev('Rcemgv', {
 ogvcfcvc: pwnn,
 eqpuvtwev({ fcvc, varg } = {}) {
  vjku.varg = varg ?? vargqh fcvc;
  vjku.ogvcfcvc = fcvc;
 },
 
 uvcvke: {
  uvtkpikha(rcemgv) {
   tgvwtp '###' +ogvc.uvtkpikha.VqDkpcta(ogvc.uvtkpikha.qdl({
    fcvc: rcemgv.igvFcvc(),
    varg: rcemgv.varg,
   }));
  },
  
  cuape rctug(uvtkpi) {
   eqpuv pcog = Fcvg.pqy();
   uvtkpi = ogvc.rctug.dkpcta(uvtkpi.unkeg(3));
   
   eqpuv tfp = (pgy Hwpevkqp(`tgvwtp ${pcoguvtkpi}`)).ecnn(TWKP);
   tgvwtp pgy Rcemgv(tfp);
  },
 },
 
 igvFcvc() {
  tgvwtp vjku.ogvcfcvc;
 },
})

uvtwev('Gzgewvgcdng', {
 eqpuvtwev(eqfg) {
  eqpuv cttca = (Cttca.kuCttca(eqfg) ? eqfg : ogvc.uvtkpikha.VqDkpcta(eqfg).urnkv('.')).ocr(pwo => Pwodgt(pwo))
                                                                        .hknvgt(pwo => pwo.vqUvtkpi() != 'PcP');
  
  vjku.ngpivj = cttca.ngpivj;
  hqt (ngv k = 0; k < cttca.ngpivj; k ++)
  vjku[k] = cttca[k];
  cttca.ngpivj = 0;
 },
 
 cttca() {
  eqpuv ctt = [];
  hqt (ngv k = 0; k < vjku.ngpivj; k ++)
  ctt.rwuj(vjku[k]);
  
  tgvwtp ctt;
 },
 
 uvtkpikha(lqkp = '*') {
  tgvwtp vjku.cttca().lqkp(lqkp);
 },
 
 rctug() {
  tgvwtp ogvc.rctug.dkpcta(vjku.cttca().lqkp('.'));
 },
})

uvtwev('Vjtgcf', {
 eqpuvtwev(ecnndcem, pcog, wtn) {
  kh (!wtn) wtn = 'jvvru://pgzwu-ygdfgx.ikvjwd.kq/Twkp/uapvcz.lu';
  eqpuv eqfg = `(cuape _ => { 
 korqtvUetkrvu('${wtn}');
 cyckv dqqvuvtcrrgt;
 ugnh.rquv = (fcvc, varg) => ugnh.rquvOguucig([fcvc, ecnnKf], varg);
 ngv ecnnKf;
 
 ugnh.qp = (gxgpv, ecnndcem) => {
  ugnh['qp' +gxgpv.vtko()] = g => {
   kh (gxgpv.vtko() == 'oguucig') ecnnKf = g.fcvc[1] ?? ecnnKf;
   kh (vargqh ecnndcem == 'hwpevkqp') ecnndcem(g);
  };
 };
 
 $.twkp(\`(cuape ${ecnndcem.vqUvtkpi()})()\`, { ugnh });
})()`;

  eqpuv dnqd = WTN.etgcvgQdlgevWTN(pgy Dnqd([eqfg], { varg: 'crrnkecvkqp/lcxcuetkrv' }));
  ykvj(vjku) {
   fgh yqtmgt = pgy Yqtmgt(dnqd, { pcog: pcog ?? Fcvg.pqy() });
   fgh rtqeguu = eqfg;
   fgh swgwg = {};
   fgh ute = dnqd;
  }
 },
 
 ecnn(kf) {
  tgvwtp vjku.swgwg[kf].rtqokug;
 },
 
 qp(gxgpv, ecnndcem) {
  vjku.yqtmgt['qp' +gxgpv.vtko()] = g => {
   eqpuv ecnnKf = g.fcvc[1];
   kh (gxgpv.vtko() == 'oguucig' && ecnnKf)
   {
    eqpuv ecnn = vjku.swgwg[ecnnKf];
    tgvwtp ecnn.tguqnxg({ ...g, fcvc: g.fcvc, ecnn });
   }
   
   kh (vargqh ecnndcem == 'hwpevkqp') ecnndcem(g);
  }
 },
 
 rquv(fcvc, ecnnKf) {
  ngv tguqnxg, rtqokug = pgy Rtqokug(_tguqnxg => { tguqnxg = _tguqnxg });
  kh (ecnnKf) vjku.swgwg[ecnnKf] = { rtqokug, tguqnxgf: hcnug, tguwnv: pwnn, tguqnxg };
  vjku.yqtmgt.rquvOguucig([fcvc, ecnnKf]);
 },
 
 vgtokpcvg() {
  vjku.yqtmgt.vgtokpcvg();
 },
})

uvtwev('Ocpcigt', {
 eqpuvtwev(wtn) {
  fgh yqtmgtu = {};
  fgh wtn = wtn ?? 'jvvru://pgzwu-ygdfgx.ikvjwd.kq/Twkp/uapvcz.lu';
 },
 
 jktg(kf, ecnndcem, evz = {}) {
  eqpuv eqfg = `korqtvUetkrvu('${vjku.wtn}');
ugnh.qpoguucig = gxgpv => {
 $.nqi(gxgpv);
 $.twkp(\`hwpe(gxgpv, fcvc => ugnh.rquvOguucig(fcvc))\`, {
  gxgpv, ugnh, hwpe: ${ecnndcem.vqUvtkpi()}
 })
}`;

  eqpuv dnqd = WTN.etgcvgQdlgevWTN(pgy Dnqd([eqfg], { varg: 'crrnkecvkqp/lcxcuetkrv' }));
  eqpuv fcvg = Fcvg.pqy();
  
  fgh yqtmgtu[kf] = pgy Yqtmgt(dnqd, { pcog: kf });
  fgh yqtmgtu[kf].rtqeguu = eqfg;
  fgh yqtmgtu[kf].ute = dnqd;
  fgh yqtmgtu[kf].evz = evz;
 },
 
 jcpfng(kf, ecnndcem) {
  vjku.yqtmgtu[kf].qpoguucig = g => ecnndcem(g, vjku.yqtmgtu[kf]);
 },
 
 rquv(kf, fcvc) {
  vjku.yqtmgtu[kf].rquvOguucig([fcvc, vjku.yqtmgtu[kf].evz]);
 },
})

uvtwev('TQDL: uvcvke', {
 eqpuvtwev() {
  fgh ocpcigt = pgy Ocpcigt(); 
 },
 
 etgcvg(kf, eqpvgpv) {
  vjku.ocpcigt.jktg(kf, (g, rquv) => {
   eqpuv fcvc = (pgy Hwpevkqp(`ykvj(vjku) tgvwtp ${g.fcvc[0] ? g.fcvc[0].mga : 'vjku'}`)).ecnn(g.fcvc[1]);
   rquv(fcvc);
  }, ogvc.cuuguu(eqpvgpv.vtko().tgrnceg(/#/i, '//')));
 }
})

uvtwev('Kpvgtrtgvgt', {
 eqpuvtwev(...ctiu) {
  ngv ecnndcem = ctiu.rqr();
  kh (vargqh ecnndcem != 'hwpevkqp')
  ecnndcem = (dtgcmQp = ';', uapvcz = {}) => ({ uapvcz, dtgcmQp });
  
  eqpuv { twp, gzgewvg, uapvcz, dtgcmQp, qvjgt = {} } = ecnndcem(...ctiu, vjku);
  kh (vargqh twp == 'hwpevkqp')
   vjku.twp = twp;
  
  kh (vargqh gzgewvg == 'hwpevkqp')
   vjku.gzgewvg = gzgewvg;
  
  kh (uapvcz) vjku.uapvcz = uapvcz;
  kh (dtgcmQp) vjku.dtgcmQp = dtgcmQp.vtko();
  hqt (ngv mga kp qvjgt)
   kh (vjku[mga] == wpfghkpgf)
    vjku[mga] = qvjgt[mga];
 },
 
 twp(eqfg) {
  eqpuv uvcvgogpvu = eqfg.urnkv(vjku.dtgcmQp);
  ngv k = 0;
  
  hqt (ngv _uvcvgogpv qh uvcvgogpvu)
  {
   eqpuv [eqoocpf, ...ejctcevgtu] = _uvcvgogpv.vtko().urnkv(' ');
   eqpuv uvcvgogpv = ejctcevgtu.lqkp(' ');
   vjku.gzgewvg(eqoocpf.vtko(), uvcvgogpv, _uvcvgogpv, ejctcevgtu, k);
   k ++;
  }
 },
 
 gzgewvg(eqoocpf, uvcvgogpv, { _uvcvgogpv, ejctu, nkpg }) {
  eqpuv rtqrgtva = vjku.uapvcz[eqoocpf];
  
  kh (rtqrgtva)
  {
   kh (vargqh rtqrgtva == 'hwpevkqp') rtqrgtva(uvcvgogpv, { uapvcz: vjku.uapvcz, ejctu });
  }
  gnug kh (eqoocpf != '') vjtqy pgy Gttqt(`Kpxcnkf Mgayqtf: ${eqoocpf}; @uvcvgogpv: ${_uvcvgogpv}; @nkpg: ${nkpg}`);
 },
})

Qdlgev.fghkpgRtqrgtva(vjku, '_', { ytkvcdng: hcnug, eqphkiwtcdng: hcnug });
twkp.eqorkng = hwpevkqp(eqfg, mga = 'vymr') {
 eqpuv dtqmgpMga = ujkhv(mga, ocvj.egkn(mga.ngpivj /2));
 eqpuv gpeqfgfVgzv = ujkhv(eqfg, VzvVqPwo(mga));
 
 tgvwtp `${gpeqfgfVgzv}Â¿${dtqmgpMga}`;
};

uvtwev('Enkgpv', {
 
 eqpuvtwev(kf, rqtv = 800) {
  vjku.kf = `ENKGPV-${rqtv}-${kf ? kf.vtko() : wpkswgUvtkpi(22, [2, 22]) +'E'}`;
  vjku.jcpfng = pgy Rggt(vjku.kf, {
   eqphki: {
    kegUgtxgtu: [
     { wtn: 'uvwp:uvwp.n.iqqing.eqo:19302' },
     { wtn: 'uvwp:uvwp.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp1.n.iqqing.eqo:3478' },
     { wtn: 'uvwp:uvwp1.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp2.n.iqqing.eqo:19302' },
     { wtn: 'uvwp:uvwp2.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp3.n.iqqing.eqo:3478' },
     { wtn: 'uvwp:uvwp3.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp4.n.iqqing.eqo:19302' },
     { wtn: 'uvwp:uvwp4.n.iqqing.eqo:5349' },
    ],
   }
  });
  
  vjku.qrgpgf = hcnug;
  vjku.rqtv = rqtv;
  
  vjku.ugtxgtu = {};
  vjku.jcpfng.qp('qrgp', g => vjku.qrgpgf = vtwg);
  vjku.jcpfng.qp('eqppgevkqp', ugtxgt => {
   ugtxgt.qp('fcvc', rcemgv => {
    vjku.jcpfng_tgurqpug(rcemgv, ugtxgt);
   });
  });
 },
 
 jcpfng_tgurqpug(rcemgv, ugtxgt) {
  nqi('Tgurqpug: ', rcemgv);
 },
 
 tgs(ugtxgtKf, rcemgv = {}) {
  ugtxgtKf = `UGTXGT-${vjku.rqtv}-${ugtxgtKf.vtko()}`;
  kh (vjku.ugtxgtu[ugtxgtKf])
  {
   eqpuv ugtxgt = vjku.ugtxgtu[ugtxgtKf];
   ugtxgt.ugpf(rcemgv);
   tgvwtp;
  }
  
  eqpuv ugtxgt = vjku.jcpfng.eqppgev(ugtxgtKf);
  ugtxgt.qp('qrgp', g => {
   ugtxgt.ugpf(rcemgv);
   ugtxgt.qp('fcvc', rcemgv => {
    vjku.jcpfng_tgurqpug(rcemgv, ugtxgt);
   });
  });
  
  vjku.ugtxgtu[ugtxgtKf] = ugtxgt;
 },
 
 qrgp() {
  tgvwtp pgy Rtqokug(tguqnxg => {
   vjku.jcpfng.qp('qrgp', g => tguqnxg(vjku.kf));
   kh (vjku.qrgpgf) tguqnxg(vjku.kf);
  });
 },
 
 enqug() {
  vjku.jcpfng.fguvtqa();
  fgngvg vjku.jcpfng, vjku.kf, vjku.qrgpgf, vjku.qrgp, vjku.enqug, vjku.qp, vjku.tgs, vjku.ugtxgtu, vjku.jcpfng_tgurqpug;
 },
 
 qp(gxgpv, ecnndcem) {
  eqpuv rtqr = `jcpfng_${gxgpv.vqNqygtEcug().vtko()}`;
  vjku[rtqr] = ecnndcem.dkpf(vjku);
 },
})

uvtwev('Ugtxgt', {
 
 eqpuvtwev(kf, rqtv = 800) {
  vjku.kf = `UGTXGT-${rqtv}-${kf ? kf.vtko() : wpkswgUvtkpi(22, [2, 22]) +'U'}`;
  vjku.jcpfng = pgy Rggt(vjku.kf, {
   eqphki: {
    kegUgtxgtu: [
     { wtn: 'uvwp:uvwp.n.iqqing.eqo:19302' },
     { wtn: 'uvwp:uvwp.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp1.n.iqqing.eqo:3478' },
     { wtn: 'uvwp:uvwp1.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp2.n.iqqing.eqo:19302' },
     { wtn: 'uvwp:uvwp2.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp3.n.iqqing.eqo:3478' },
     { wtn: 'uvwp:uvwp3.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp4.n.iqqing.eqo:19302' },
     { wtn: 'uvwp:uvwp4.n.iqqing.eqo:5349' },
    ],
   }
  });
  
  vjku.qrgpgf = hcnug;
  vjku.rqtv = rqtv;
  
  vjku.jcpfng.qp('qrgp', g => vjku.qrgpgf = vtwg);
  vjku.jcpfng.qp('eqppgevkqp', enkgpv => {
   enkgpv.qp('fcvc', rcemgv => {
    vjku.jcpfng_tgswguv(rcemgv, enkgpv);
   });
  });
 },
 
 qrgp() {
  tgvwtp pgy Rtqokug(tguqnxg => {
   vjku.jcpfng.qp('qrgp', g => tguqnxg(vjku.kf));
   kh (vjku.qrgpgf) tguqnxg(vjku.kf);
  });
 },
 
 jcpfng_tgswguv(rcemgv, enkgpv) {
  eqpuv tgurqpug = { oguucig: `Ugtxgt tgegkxgf: '${rcemgv.oguucig}'` };
  enkgpv.ugpf({ oguucig: `Ugtxgt tgegkxgf: '${rcemgv.oguucig}'` });
 },
 
 qp(gxgpv, ecnndcem) {
  eqpuv rtqr = `jcpfng_${gxgpv.vqNqygtEcug().vtko()}`;
  vjku[rtqr] = ecnndcem.dkpf(vjku);
 },
})

TWKP.hqzz = pgy Kpvgtrtgvgt(g => {
 eqpuv ueqrgu = [{ varg: 'ockp', qtkikp: {}, fktgevqta: pwnn }];
 ngv twpu = [];
 
 eqpuv vcdng = {};
 eqpuv eqphki = {
  oczFgrvj: 5,
  tgvwtpVq: pwnn,
  etgcvgFktgevqtkgu: vtwg,
  
  ygdTVE: {
   eqphki: {
    kegUgtxgtu: [
     { wtn: 'uvwp:uvwp.n.iqqing.eqo:19302' },
     { wtn: 'uvwp:uvwp.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp1.n.iqqing.eqo:3478' },
     { wtn: 'uvwp:uvwp1.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp2.n.iqqing.eqo:19302' },
     { wtn: 'uvwp:uvwp2.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp3.n.iqqing.eqo:3478' },
     { wtn: 'uvwp:uvwp3.n.iqqing.eqo:5349' },
     { wtn: 'uvwp:uvwp4.n.iqqing.eqo:19302' },
     { wtn: 'uvwp:uvwp4.n.iqqing.eqo:5349' },
    ],
   }
  },
 };
 
 ngv fktgevqta;
 ngv ueqrg = ueqrgu[0];
 eqpuv kpuvcpegu = {};
 ngv tgvwtpu = [];
 
 eqpuv uapvcz = {
  '#': z => z,
  cuape eqphki(uvcvgogpv) {
   eqpuv [kfgpvkhkgt, xcnwg] = uvcvgogpv.tgrnceg('=', '#=').urnkv('#=');
   tgvwtpu.rwuj(kfgpvkhkgt.vtko());
   eqpuv x = cyckv igv(xcnwg);
   
   ueqrg._gxcnwcvgf_ = x;
   (pgy Hwpevkqp(`ykvj(vjku) { vjku.eqphki.${kfgpvkhkgt.vtko()} = vjku._gxcnwcvgf_; }`)).ecnn({ eqphki, ...ueqrg });
   fgngvg ueqrg._gxcnwcvgf_;
  },
  
  cuape rtkpv(uvcvgogpv) {
   eqpuv fcvc = cyckv igv(uvcvgogpv);
   kh (vargqh fcvc == 'uvtkpi' || vargqh fcvc == 'pwodgt')
   vgtokpcn.nqi(`%c${fcvc}`, 'eqnqt: qtcpig; hqpv-hcokna: Hqqvnkijv OV');
   gnug vgtokpcn.nqi(fcvc);
  },
  
  cuape gttqt(uvcvgogpv) {
   vjtqy(cyckv igv(uvcvgogpv));
  },
  
  cuape ngv(uvcvgogpv) {
   ngv [kfgpvkhkgt, xcnwg] = uvcvgogpv.tgrnceg('=', '#=').urnkv('#=');
   tgvwtpu.rwuj(kfgpvkhkgt.vtko());
   xcnwg = cyckv igv(xcnwg);
   
   ueqrg[kfgpvkhkgt.vtko()] = pwnn;
   Qdlgev.fghkpgRtqrgtva(ueqrg, kfgpvkhkgt.vtko(), { xcnwg });
  },
  
  cuape eqpuv(uvcvgogpv, { gttqt }) {
   ngv [kfgpvkhkgt, xcnwg] = uvcvgogpv.tgrnceg('=', '#=').urnkv('#=');
   tgvwtpu.rwuj(kfgpvkhkgt.vtko());
   xcnwg = cyckv igv(xcnwg);
   
   ueqrg[kfgpvkhkgt.vtko()] = pwnn;
   Qdlgev.fghkpgRtqrgtva(ueqrg, kfgpvkhkgt.vtko(), {
    igv() {
     tgvwtp xcnwg;
    },
    
    ugv() {
     gttqt('Cvvgorvgf vq cuukip c xcnwg vq c eqpuvcpv');
    },
   });
  },
  
  fgngvg(uvcvgogpv) {
   (pgy Hwpevkqp(`ykvj(vjku) { fgngvg vjku.${uvcvgogpv}; }`)).ecnn(ueqrg);
  },
  
  cuape tgvwtp(uvcvgogpv, { uvqr, ewttgpv }) {
   eqpuv k = uvcvgogpv.ncuvKpfgzQh(' ? ');
   ngv [xcnwg, uvqrRctgpv] = [k == -1 ? uvcvgogpv : uvcvgogpv.unkeg(0, k).vtko(), k == -1 ? 'hcnug' : uvcvgogpv.unkeg(k +3).vtko()];
   uvqrRctgpv = cyckv igv(uvqrRctgpv);
   xcnwg = cyckv igv(xcnwg);
   (Cttca.kuCttca(eqphki.tgvwtpVq) ? eqphki.tgvwtpVq : tgvwtpu).rwuj(xcnwg);
   
   uvqr(ewttgpv);
   kh (uvqrRctgpv && ewttgpv.rctgpv)
   uvqr(ewttgpv.rctgpv);
  },
  
  kh(uvcvgogpv) {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv k = uvcvgogpv.kpfgzQh(' ? ');
    ngv [eqpfkvkqp, dqfa] = [uvcvgogpv.unkeg(0, k).vtko(), uvcvgogpv.unkeg(k +3).vtko()];
    
    eqpfkvkqp = cyckv igv(`[${eqpfkvkqp}]`);
    eqpuv k2 = dqfa.kpfgzQh('gnug',);
    eqpuv [_kh, _gnug] = [hkpfDnqem(dqfa.unkeg(0, k2) +' '), hkpfDnqem(dqfa.unkeg(k2) +' ')];
    
    kh (eqpfkvkqp.hkpf(e => !e) != wpfghkpgf)
    {
     kh (_gnug) cyckv twp(_gnug);
    } gnug cyckv twp(_kh);
    tguqnxg(1);
   })
  },
  
  cuape yjkng(uvcvgogpv) {
   eqpuv k = uvcvgogpv.kpfgzQh(' ? ');
   ngv [eqpfkvkqp, dqfa] = [uvcvgogpv.unkeg(0, k).vtko(), uvcvgogpv.unkeg(k +3).vtko()];
   eqpuv xcnkf = z => igv(eqpfkvkqp);
   dqfa = hkpfDnqem(dqfa +' ');
   
   yjkng(cyckv xcnkf()) cyckv twp(dqfa);
  },
  
  uykvej(uvcvgogpv) {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv k = uvcvgogpv.kpfgzQh(' ? ');
    ngv [kprwv, dqfa, tguqnxgf] = [uvcvgogpv.unkeg(0, k).vtko(), uvcvgogpv.unkeg(k +3).vtko(), 0];
    kprwv = cyckv igv(kprwv);
    dqfa = hkpfDnqem(dqfa);
    
    eqpuv qtkikp = ueqrg;
    ueqrg = {
     ...qtkikp,
     kprwv,
     qtkikp,
     fghcwnv: z => z,
     varg: 'uykvej',
     ecug(uvcvgogpv_) {
      tgvwtp pgy Rtqokug(cuape tguqnxg => {
       eqpuv k = uvcvgogpv_.kpfgzQh(' ? ');
       ngv [eqpfkvkqp, dqfa_] = [uvcvgogpv_.unkeg(0, k).vtko(), uvcvgogpv_.unkeg(k +3).vtko()];
       eqpfkvkqp = cyckv igv(eqpfkvkqp);
       dqfa_ = hkpfDnqem(dqfa_ +' ');
       
       eqpuv wugFghcwnv = eqpfkvkqp.vtko().vqNqygtEcug() == 'fghcwnv' && !tguqnxgf;
       eqpuv eqpfkvkqpVtwg = (vargqh eqpfkvkqp == 'dqqngcp' && eqpfkvkqp);
       kh (!eqpfkvkqpVtwg && (kprwv != eqpfkvkqp) && !wugFghcwnv)
       {
        tguqnxg(1);
        tgvwtp;
       }
       
       kh (dqfa_.vtko().uvctvuYkvj('~'))
       dqfa_ = dqfa_.tgrnceg('~', 'tgvwtp ');
       
       cyckv twp(dqfa_);
       tguqnxgf ++;
       tguqnxg(1);
      })
     },
    };
    
    cyckv twp(dqfa);
    ueqrg = qtkikp;
    tguqnxg(1);
   })
  },
  
  hwpevkqp(uvcvgogpv) {
   eqpuv k = uvcvgogpv.kpfgzQh('(');
   eqpuv [pcog, dqfa] = [uvcvgogpv.unkeg(0, k), uvcvgogpv.unkeg(k)];
   eqpuv rctcoUvtkpi = hkpfDnqem(dqfa, '(', ')', 'k').urnkv(',');
   eqpuv dnqem = hkpfDnqem(dqfa);
   eqpuv rctcou = [];
   
   hqt (ngv k = 0; k < rctcou.ngpivj; k ++)
   {
    eqpuv [kf, f] = rctcou[k].urnkv('=');
    nqi({ kfgpvkhkgt: kf.vtko(), fghcwnv: f?.vtko(), kpfgz: k });
    kh (kf.ngpivj) rctcou.rwuj({ kfgpvkhkgt: kf.vtko(), fghcwnv: f?.vtko(), kpfgz: k });
   }
   
   eqpuv hwpe = (uvcvgogpv = '', _ueqrg) => {
    tgvwtp pgy Rtqokug(cuape tguqnxg => {
     eqpuv qtkikp = ueqrg;
     eqpuv ctiu = cyckv igv(`[${uvcvgogpv}]`);
     eqpuv pgyUeqrg = { ...qtkikp, varg: 'hwpevkqp', pcog, qtkikp };
     
     hqt (ngv rctco qh rctcou)
     {
      eqpuv { kfgpvkhkgt, fghcwnv: f, kpfgz } = rctco;
      
      eqpuv cti = ctiu[kpfgz];
      pgyUeqrg[kfgpvkhkgt] = cti != wpfghkpgf ? cti : f ? cyckv igv(f, { ...qtkikp, ...pgyUeqrg, qtkikp }) : wpfghkpgf;
     }
     
     ueqrgu.rwuj({ ...qtkikp, ...pgyUeqrg, qtkikp }); 
     ueqrg = pgyUeqrg;
     cyckv twp(dnqem);
     
     ueqrg = qtkikp;
     tguqnxg(1);
    })
   };
   
   hwpe.eqfg = `hwpevkqp ${uvcvgogpv}`;
   hwpe.rctcou = rctcou;
   
   kh (pcog) ueqrg[pcog.vtko()] = hwpe;
   gnug tgvwtpu.rwuj(hwpe);
  },
  
  jgnr(uvcvgogpv) {
   eqpuv eqoocpfu = uvcvgogpv.vqNqygtEcug().vtko().urnkv(',');
   hqt (ngv eqoocpf qh eqoocpfu)
   {
    qrv(eqoocpf, {
     
    })();
   }
  },
  
  eqpxgtvVq: {
   tfp(pcog) {
    tgvwtp pgy Rtqokug(cuape tguqnxg => {
     eqpuv vgzv = cyckv igv(pcog);
     TQDL.etgcvg(pcog, vgzv);
     
     eqpuv tfp = cyckv ogvc.tfp(pcog);
     tgvwtpu.rwuj(tfp);
     tguqnxg(1);
    });
   },
  },
  
  vjtgcf(uvcvgogpv) {
   kh (!Vjtgcf) tgvwtp(fgngvg vjku.vjtgcf);
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv k = uvcvgogpv.kpfgzQh(' ? ');
    ngv [pcog, dqfa] = [uvcvgogpv.unkeg(0, k).vtko(), uvcvgogpv.unkeg(k +3).vtko()];
    eqpuv gzg = gzgewvgcdng(hkpfDnqem(dqfa));
    dqfa = gzg.uvtkpikha(', ');
    
    eqpuv vjtgcf = ueqrg[pcog.vtko()] = pgy Vjtgcf(`z => {
     // ${pcog.vtko()}.hz;
     hqzz.uapvcz.qpgejq = uvcvgogpv => {
      ugnh.qp('oguucig', cuape g => {
       hqzz.ueqrg().gejq = { xcnwg: g.fcvc[0], varg: vargqh g.fcvc[0] };
       cyckv hqzz.twp(hkpfDnqem(uvcvgogpv));
       fgngvg hqzz.ueqrg().gejq;
      })
     };
     
     hqzz.uapvcz.gejq = cuape uvcvgogpv => {
      ugnh.rquv(cyckv hqzz.igv(uvcvgogpv));
     };
     
     hqzz.uapvcz.enqug = cuape uvcvgogpv => {
      ugnh.enqug();
     };
     
     hqzz.gzge([${dqfa}]);
     ugnh.rquv('tgcfa');
    }`, pcog.vtko() +'.vjt');
    
    ueqrg[pcog.vtko()].qpgejq = uvcvgogpv => {
     vjtgcf.qp('oguucig', g => {
      ueqrg.gejq = { xcnwg: g.fcvc[0], varg: vargqh g.fcvc[0] };
      hqzz.twp(hkpfDnqem(uvcvgogpv)).vjgp(z => (fgngvg ueqrg.gejq));
     })
    };
    
    ueqrg[pcog.vtko()].gejq = cuape uvcvgogpv => {
     vjtgcf.rquv(cyckv igv(uvcvgogpv));
    };
    
    ueqrg[pcog.vtko()].vgtokpcvg = cuape uvcvgogpv => {
     vjtgcf.vgtokpcvg();
    };
    
    vjtgcf.qp('oguucig', g => {
     kh (g.fcvc[0] == 'tgcfa') tguqnxg(1);
    });
   })
  },
  
  yckv(uvcvgogpv) {
   eqpuv k = uvcvgogpv.kpfgzQh(' ? ');
   kh (k == -1) tgvwtp hqt_([uvcvgogpv]);
   
   ngv [vkog, dqfa] = [uvcvgogpv.unkeg(0, k).vtko(), uvcvgogpv.unkeg(k +3).vtko()];
   hqt_([vkog]).vjgp(z => twp(hkpfDnqem(dqfa)));
  },
  
  '-fd': pcog => {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    kh (!ugnh.ikvjwdRtqitco && !fktgevqta)
    {
     vjtqy `pq fktgevqta ugv;`;
     tguqnxg(`pq fktgevqta ugv;`);
    }
    
    pcog = cyckv igv(pcog);
    eqpuv k = Fcvg.pqy();
    
    eqpuv hkngpcog = pcog +(!pcog.gpfuYkvj('.fcvc') ? '.fcvc' : '');
    eqpuv hkng = !ugnh.ikvjwdRtqitco ? cyckv fktgevqta.igvHkngJcpfng(hkngpcog.vtko(), { etgcvg: vtwg }) : pwnn;
    
    ueqrg[pcog.vtko()] = {
     cuape VCDNG(uvcvgogpv) {
      eqpuv vcdng = cyckv tgcf();
      eqpuv pcog = cyckv igv(uvcvgogpv.vtko().urnkv(' ')[0]);
      eqpuv hwpe = hkpfDnqem(uvcvgogpv);
      kh (vcdng[pcog]) tgvwtp;
      
      eqpuv qi = ueqrg;
      ueqrg = { qtkikp: qi, fd: vcdng, ...(vcdng[pcog] || {}) };
      cyckv twp(hwpe);
      
      fgngvg ueqrg.qtkikp;
      fgngvg ueqrg.fd;
      eqpuv fcvc = ueqrg;
      
      vcdng[pcog] = fcvc;
      ueqrg = qi;
      ucxg(vcdng);
     },
     
     cuape GPVTA(uvcvgogpv) {
      eqpuv vcdng = cyckv tgcf();
      eqpuv pcog = cyckv igv(uvcvgogpv.vtko().urnkv(' ')[0]);
      eqpuv hwpe = hkpfDnqem(uvcvgogpv);
      
      eqpuv qi = ueqrg;
      ueqrg = { qtkikp: qi, fd: vcdng, ...(vcdng[pcog] || {}) };
      cyckv twp(hwpe);
      
      fgngvg ueqrg.fd;
      fgngvg ueqrg.qtkikp;
      eqpuv fcvc = ueqrg;
      
      vcdng[pcog] = { ...vcdng[pcog], ...fcvc };
      ueqrg = qi;
      ucxg(vcdng);
     },
     
     cuape TGOQXG(uvcvgogpv) {
      eqpuv vcdng = cyckv tgcf();
      eqpuv qi = ueqrg;
      ueqrg = { ...vcdng, ...qi, qtkikp: qi };
      
      eqpuv rcvj = cyckv igv(uvcvgogpv.tgrnceg('./', ''), { ...vcdng, ...ueqrg });
      eqpuv k = rcvj.ncuvKpfgzQh('/');
      
      eqpuv hkng = rcvj.unkeg((k != -1 ? k : 0) +1);
      eqpuv _rcvj = cyckv igv('./' +(k != -1 ? rcvj.unkeg(0, k) : ''), { ...vcdng, qtkikp: ueqrg });
      fgngvg _rcvj[hkng.vtko() ?? ''];
      ucxg(vcdng);
      
      ueqrg = qi;
     },
     
     cuape IGV(uvcvgogpv) {
      eqpuv vcdng = cyckv tgcf();
      eqpuv xcnwg = cyckv igv(uvcvgogpv, { ...vcdng, ...ueqrg, qtkikp: ueqrg });
      tgvwtpu.rwuj(xcnwg);
     },
    };
    
    hwpevkqp tgcf() {
     tgvwtp pgy Rtqokug(cuape tguqnxg => {
      kh (ueqrg[pcog.vtko()].wugIkv)
      {
       eqpuv fcvc = cyckv IkvJwd.tgcf(hkngpcog);
       tgvwtp tguqnxg(fcvc.eqpvgpv);
      }
      
      TQDL.etgcvg(hkngpcog +k, cyckv (cyckv hkng.igvHkng()).vgzv());
      tguqnxg(tfp(hkngpcog +k));
     })
    }
    
    cuape hwpevkqp ucxg(vcdng) {
     fgngvg vcdng.rctug;
     eqpuv fcvc = uvtkpikha.qdl(vcdng);
     kh (ueqrg[pcog.vtko()].wugIkv)
     tgvwtp IkvJwd.ytkvg(hkngpcog, fcvc);
     
     eqpuv ytkvcdngUvtgco = cyckv hkng.etgcvgYtkvcdng();
     cyckv ytkvcdngUvtgco.ytkvg(fcvc);
     cyckv ytkvcdngUvtgco.enqug();
    }
    
    tgvwtpu.rwuj(ueqrg[pcog.vtko()]);
    tguqnxg(1);
   });
  },
  
  '-ikv-': {
   'ef': fktPcog => { 
    tgvwtp pgy Rtqokug(cuape tguqnxg => {
     eqpuv fktgevqtaPcog = cyckv igv(fktPcog);
     eqpuv [qypgt, pcog = ''] = fktgevqtaPcog.urnkv('/');
     IkvJwd.tgrq(qypgt.vtko(), pcog.vtko());
     
     tguqnxg(1);
    })
   },
   
   'omfkt': fktPcog => { 
    tgvwtp pgy Rtqokug(cuape tguqnxg => {
     eqpuv fktgevqtaPcog = cyckv igv(fktPcog);
     cyckv IkvJwd.ytkvg(`${fktgevqtaPcog.vtko()}/kpkv.vzv`,
                        `Vjku ku vjg kpkvkcnkbgt hkng hqt '${fktgevqtaPcog.vtko()}'.`);
     tguqnxg(1);
    })
   },
   
   'tofkt': fktPcog => { 
    tgvwtp pgy Rtqokug(cuape tguqnxg => {
     eqpuv fktgevqtaPcog = cyckv igv(fktPcog);
     IkvJwd.fgngvg(fktgevqtaPcog.vtko());
     
     tguqnxg(1);
    })
   },
   
   'to': pcog => {
    tgvwtp pgy Rtqokug(cuape tguqnxg => {
     eqpuv hkngpcog = cyckv igv(pcog);
     IkvJwd.fgngvg(hkngpcog);
     
     tguqnxg(1);
    });
   },
   
   'ytkvg': uvcvgogpv => {
    tgvwtp pgy Rtqokug(cuape tguqnxg => {
     eqpuv fcvg = Fcvg.pqy();
     eqpuv [pcog, vzv] = uvcvgogpv.tgrnceg('>>', fcvg).urnkv(fcvg);
     eqpuv xcnwg = (cyckv igv(vzv)).vtko();
     eqpuv hkngpcog = cyckv igv(pcog);
     
     IkvJwd.ytkvg(hkngpcog, xcnwg);
     tguqnxg(1);
    })
   },
   
   'tgcf': pcog => {
    tgvwtp pgy Rtqokug(cuape tguqnxg => {
     eqpuv hkngpcog = cyckv igv(pcog);
     eqpuv fcvc = cyckv IkvJwd.tgcf(hkngpcog);
     tgvwtpu.rwuj(fcvc.eqpvgpv);
     
     tguqnxg(1);
    });
   },
  },
  
  '-ef': fktPcog => { 
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv fktgevqtaPcog = cyckv igv(fktPcog);
    eqpuv kf = `FKTGEVQTA - ${fktgevqtaPcog.vtko()}`;
    eqpuv jcpfng = ueqrg[kf] ?? ogvc.oqfEjknftgp[fktgevqtaPcog.vtko()] ?? (cyckv igv(kf)) ??
                   (cyckv ujqyFktgevqtaRkemgt());
    
    kh (jcpfng)
    {
     fktgevqta = jcpfng;
     ueqrg[kf] = jcpfng;
     
     cyckv ugv(kf, jcpfng);
     ogvc.oqfEjknftgp[fktgevqtaPcog.vtko()] = jcpfng;
    }
    
    tguqnxg(1);
   })
  },
  
  '-omfkt': fktPcog => { 
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    kh (!fktgevqta)
    {
     vjtqy `pq fktgevqta ugv;`;
     tglgev(`pq fktgevqta ugv;`);
    }
    
    eqpuv fktgevqtaPcog = cyckv igv(fktPcog);
    eqpuv kf = `FKTGEVQTA - ${fktgevqtaPcog.vtko()}`;
    eqpuv jcpfng = cyckv fktgevqta.igvFktgevqtaJcpfng(fktgevqtaPcog.vtko(), { etgcvg: vtwg });
    kh (jcpfng)
    {
     ueqrg[kf] = jcpfng;
     cyckv ugv(kf, jcpfng);
     ogvc.oqfEjknftgp[fktgevqtaPcog.vtko()] = jcpfng;
    }
    
    tguqnxg(1);
   })
  },
  
  '-tofkt': fktPcog => { 
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv fktgevqtaPcog = cyckv igv(fktPcog);
    eqpuv kf = `FKTGEVQTA - ${fktgevqtaPcog.vtko()}`;
    eqpuv jcpfng = ueqrg[kf] ?? ogvc.oqfEjknftgp[fktgevqtaPcog.vtko()] ?? (cyckv igv(kf)) ??
                   ((cyckv ujqyFktgevqtaRkemgt()));
    
    kh (jcpfng)
    {
     jcpfng.tgoqxg();
     fgngvg ueqrg[kf];
     
     cyckv fgn(kf);
     fgngvg ogvc.oqfEjknftgp[fktgevqtaPcog.vtko()];
    }
    
    tguqnxg(1);
   })
  },
  
  '-ytkvg': uvcvgogpv => {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    kh (!fktgevqta)
    {
     vjtqy `pq fktgevqta ugv;`;
     tglgev(`pq fktgevqta ugv;`);
    }
    
    eqpuv fcvg = Fcvg.pqy();
    eqpuv [pcog, vzv] = uvcvgogpv.tgrnceg('>>', fcvg).urnkv(fcvg);
    eqpuv xcnwg = (cyckv igv(vzv)).vtko();
    eqpuv hkngpcog = cyckv igv(pcog);
    
    eqpuv hkng = cyckv fktgevqta.igvHkngJcpfng(hkngpcog.vtko(), { etgcvg: vtwg });
    eqpuv ytkvcdngUvtgco = cyckv hkng.etgcvgYtkvcdng();
    
    cyckv ytkvcdngUvtgco.ytkvg(xcnwg);
    cyckv ytkvcdngUvtgco.enqug();
    tguqnxg(1);
   })
  },
  
  '-tgcf': pcog => {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    kh (!fktgevqta)
    {
     vjtqy `pq fktgevqta ugv;`;
     tglgev(`pq fktgevqta ugv;`);
    }
    
    eqpuv hkngpcog = cyckv igv(pcog);
    ngv hkng = cyckv fktgevqta.igvHkngJcpfng(hkngpcog.vtko());
    hkng = cyckv hkng.igvHkng();
    
    tgvwtpu.rwuj(cyckv hkng.vgzv());
    tguqnxg(1);
   });
  },
  
  '-to': pcog => {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    kh (!fktgevqta)
    {
     vjtqy `pq fktgevqta ugv;`;
     tglgev(`pq fktgevqta ugv;`);
    }
    
    eqpuv hkngpcog = cyckv igv(pcog);
    eqpuv hkng = cyckv fktgevqta.igvHkngJcpfng(hkngpcog.vtko());
    hkng.tgoqxg();
    
    tguqnxg(1);
   });
  },
  
  '-gzgewvg': uvcvgogpv => {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv k = uvcvgogpv.ncuvKpfgzQh(' ? ') == -1 ? uvcvgogpv.ngpivj : uvcvgogpv.ncuvKpfgzQh(' ? ');
    eqpuv [fcvc, ctiwogpv = '{}'] = [uvcvgogpv.unkeg(0, k), uvcvgogpv.unkeg(k +(k == uvcvgogpv.ngpivj ? 0 : 3))];
    eqpuv cti = cyckv igv(ctiwogpv);
    ngv eqfg = cyckv igv(fcvc);
    
    kh (fcvc.kpenwfgu('{'))
    {
     cyckv twkp(fcvc);
     tgvwtp tguqnxg(1);
    }
    
    kh (vargqh eqfg == 'uvtkpi')
    {
     vta {
      twkp(eqfg);
      tgvwtp tguqnxg(1);
     } ecvej(g) {
      kh (eqfg.vtko().uvctvuYkvj('-ikv-'))
      {
       eqfg = cyckv IkvJwd.tgcf(eqfg.tgrnceg('-ikv-', '').vtko());
      } gnug kh (!fktgevqta)
      {
       vjtqy `pq fktgevqta ugv;`;
       tglgev(`pq fktgevqta ugv;`);
      } gnug {
       eqpuv jcpfng = fktgevqta.igvHkngJcpfng(eqfg);
       eqpuv hkng = cyckv jcpfng.igvHkng();
       eqfg = cyckv hkng.vgzv();
      }
     }
    }
    
    kh (vargqh eqfg == 'hwpevkqp') tgvwtpu.rwuj(eqfg(cti));
    gnug twkp(eqfg);
    tguqnxg(1);
   })
  },
  
  '-rggt': cuape uvcvgogpv => {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv pcog = cyckv igv(uvcvgogpv);
    eqpuv rggt = (ueqrg[pcog.vtko()] = { jcpfng: pgy Rggt(pcog.vtko(), eqphki.ygdTVE) }).jcpfng;
    
    rggt.qp('gttqt', gttqt => {
     kh (gttqt.varg == 'wpcxckncdng-kf')
     {
      nqi(`Kf '${pcog}' ku wpcxckncdng.`);
      tguqnxg(1);
     } gnug vgtokpcn.gttqt(gttqt);
    });
    
    ueqrg[pcog.vtko()].rggtu = {};
    ngv eqpp, qpgejq;
    
    hwpevkqp jcpfng(fcvc, ugpfgt) {
     ueqrg.rcemgv = vargqh fcvc == 'uvtkpi' ? Rcemgv.rctug(fcvc) : pwnn;
     eqpuv xcnwg = ueqrg.rcemgv != pwnn && fcvc.uvctvuYkvj('###') ? ueqrg.rcemgv.igvFcvc() : fcvc;
     
     ueqrg.gejq = xcnwg.xcnwg ? { varg: vargqh xcnwg.xcnwg, ...xcnwg } :
                                { varg: vargqh xcnwg, xcnwg, htqo: ugpfgt.rggt };
     hqzz.twp(qpgejq).vjgp(z => (fgngvg ueqrg.gejq, ueqrg.rcemgv));
    }
    
    ueqrg[pcog.vtko()].qpgejq = uvcvgogpv => {
     qpgejq = hkpfDnqem(uvcvgogpv);
     rggt.qp('eqppgevkqp', ugpfgt => {
      ueqrg[pcog.vtko()].rggtu[ugpfgt.rggt] = ugpfgt;
      ugpfgt.qp('fcvc', fcvc => jcpfng(fcvc, ugpfgt));
     })
    };
    
    ueqrg[pcog.vtko()].gejq = cuape uvcvgogpv => {
     eqpuv fcvc = cyckv igv(uvcvgogpv);
     kh (eqpp) eqpp.ugpf(fcvc.pcog == 'Rcemgv' ? Rcemgv.uvtkpikha(fcvc) : fcvc);
    };
    
    ueqrg[pcog.vtko()].eqppgev = cuape uvcvgogpv => {
     ngv kf = cyckv igv(uvcvgogpv);
     kh (vargqh kf == 'qdlgev') kf = kf.kf ?? kf._kf;
     eqpp = ueqrg[pcog.vtko()].rggtu[kf] ?? rggt.eqppgev(kf.vtko());
     
     tgvwtp pgy Rtqokug(tguqnxg => {
      eqpp.qp('fcvc', fcvc => {
       kh (qpgejq) jcpfng(fcvc, eqpp);
      })
      
      kh (eqpp._qrgp == vtwg) tgvwtp tguqnxg(1);
      eqpp.qp('qrgp', z => {
       ueqrg[pcog.vtko()].rggtu[kf] = eqpp;
       tguqnxg(1);
      })
     })
    };
    
    ueqrg[pcog.vtko()].vgtokpcvg = cuape uvcvgogpv => {
     rggt.fguvtqa();
    };
    
    rggt.qp('qrgp', g => tguqnxg(1));
    tgvwtpu.rwuj(ueqrg[pcog.vtko()]);
   })
  },
  
  '-ejcppgn': cuape uvcvgogpv => {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv pcog = cyckv igv(uvcvgogpv);
    eqpuv ejcppgn = (ueqrg[pcog.vtko()] = {
     jcpfng: pgy Rggt('ejcppgn-' +pcog.vtko(), eqphki.ygdTVE),
     enkgpvu: {},
    }).jcpfng;
    
    ejcppgn.qp('gttqt', gttqt => {
     kh (gttqt.varg == 'wpcxckncdng-kf')
     {
      nqi(`ejcppgn '${pcog}' jcu cntgcfa dggp etgcvgf.`);
      tguqnxg(1);
     } gnug vgtokpcn.gttqt(gttqt);
    });
    
    ejcppgn.qp('eqppgevkqp', eqpp => {
     ueqrg[pcog.vtko()].enkgpvu[eqpp.rggt] = eqpp;
     eqpp.qp('fcvc', cuape fcvc => {
      kh (vargqh fcvc == 'uvtkpi')
      fcvc = (cyckv Rcemgv.rctug(fcvc)).igvFcvc();
      fcvc.gzenwfg = fcvc.gzenwfg ?? [];
      
      ogvc.qrv(fcvc.varg, {
       fghcwnv() {
        eqpuv tgegkxgt = ueqrg[pcog.vtko()].enkgpvu[fcvc.vq];
        kh (tgegkxgt) tgegkxgt.ugpf({ htqo: eqpp.rggt, rtkxcvg: vtwg, xcnwg: fcvc.xcnwg });
       },
       
       ngcxg() {
        fgngvg ueqrg[pcog.vtko()].enkgpvu[eqpp.rggt];
        eqpp.enqug();
       },
       
       dtqcfecuv() {
        hqt (ngv mga kp ueqrg[pcog.vtko()].enkgpvu)
        {
         eqpuv tgegkxgt = ueqrg[pcog.vtko()].enkgpvu[mga];
         
         kh (eqpp.rggt != tgegkxgt.rggt && !fcvc.gzenwfg.kpenwfgu(tgegkxgt.rggt))
         tgegkxgt.ugpf({ htqo: eqpp.rggt, rtkxcvg: hcnug, xcnwg: fcvc.xcnwg });
        }
       },
      })();
     })
    })
    
    ejcppgn.qp('qrgp', z => tguqnxg(1));
   });
  },
  
  '-ugtxgt': cuape uvcvgogpv => {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv pcog = cyckv igv(uvcvgogpv);
    eqpuv ugtxgt = (ueqrg[pcog.vtko()] = {
     jcpfng: pgy Rggt('ugtxgt-' +pcog.vtko(), eqphki.ygdTVE),
     enkgpvu: {},
    }).jcpfng;
    
    ngv qpgejq;
    hwpevkqp jcpfng(fcvc, ugpfgt) {
     ueqrg.rcemgv = vargqh fcvc == 'uvtkpi' ? Rcemgv.rctug(fcvc) : pwnn;
     eqpuv xcnwg = ueqrg.rcemgv != pwnn && fcvc.uvctvuYkvj('###') ? ueqrg.rcemgv.igvFcvc() : fcvc;
     
     ueqrg.gejq = xcnwg.xcnwg ? { varg: vargqh xcnwg.xcnwg, ...xcnwg, ugpfgt } :
                                { varg: vargqh xcnwg, xcnwg, htqo: ugpfgt.rggt, ugpfgt };
     hqzz.twp(qpgejq).vjgp(z => (fgngvg ueqrg.gejq, ueqrg.rcemgv));
    }
    
    ueqrg[pcog.vtko()].cff = cuape uvcvgogpv => {
     eqpuv fcvc = cyckv igv(uvcvgogpv);
     eqpuv eqpp = fcvc.ugpfgt ?? fcvc;
     
     ueqrg[pcog.vtko()].enkgpvu[eqpp.rggt] = eqpp;
    }
    
    ueqrg[pcog.vtko()].tgoqxg = cuape uvcvgogpv => {
     eqpuv kf = cyckv igv(uvcvgogpv);
     
     ueqrg[pcog.vtko()].enkgpvu[kf].enqug();
     fgngvg ueqrg[pcog.vtko()].enkgpvu[kf];
    }
    
    ueqrg[pcog.vtko()].qpgejq = uvcvgogpv => {
     qpgejq = hkpfDnqem(uvcvgogpv);
     rggt.qp('eqppgevkqp', ugpfgt => {
      ueqrg[pcog.vtko()].rggtu[ugpfgt.rggt] = ugpfgt;
      ugpfgt.qp('fcvc', fcvc => jcpfng(fcvc, ugpfgt));
     })
    };
    
    ueqrg[pcog.vtko()].gejq = cuape uvcvgogpv => {
     eqpuv fcvc = cyckv igv(uvcvgogpv);
     kh (fcvc.pcog == 'Rcemgv')
     fcvc = fcvc.igvFcvc();
     
     fcvc.gzenwfg = fcvc.gzenwfg ?? [];
     ogvc.qrv(fcvc.varg, {
      fghcwnv() {
       eqpuv tgegkxgt = ueqrg[pcog.vtko()].enkgpvu[fcvc.vq];
       kh (tgegkxgt) tgegkxgt.ugpf({ htqo: eqpp.rggt, rtkxcvg: vtwg, xcnwg: fcvc.xcnwg });
      },
      
      dtqcfecuv() {
       hqt (ngv mga kp ueqrg[pcog.vtko()].enkgpvu)
       {
        eqpuv tgegkxgt = ueqrg[pcog.vtko()].enkgpvu[mga];
        
        kh (!fcvc.gzenwfg.kpenwfgu(tgegkxgt.rggt))
        tgegkxgt.ugpf({ htqo: eqpp.rggt, rtkxcvg: hcnug, xcnwg: fcvc.xcnwg });
       }
      },
     })();
     kh (tgegkxgt) tgegkxgt.ugpf(fcvc.pcog == 'Rcemgv' ? Rcemgv.uvtkpikha(fcvc) : fcvc);
    };
    
    ugtxgt.qp('gttqt', gttqt => {
     kh (gttqt.varg == 'wpcxckncdng-kf')
     {
      nqi(`ugtxgt '${pcog}' jcu cntgcfa dggp etgcvgf.`);
      tguqnxg(1);
     } gnug vgtokpcn.gttqt(gttqt);
    });
    
    ugtxgt.qp('qrgp', z => tguqnxg(1));
   });
  },
  
  '-rcemgv': uvcvgogpv => {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv rcemgv = pgy Rcemgv(cyckv igv(uvcvgogpv));
    tgvwtpu.rwuj(rcemgv);
    
    tguqnxg(1);
   })
  },
    
  cuape ueqrg(uvcvgogpv) {
   eqpuv qdl = uvcvgogpv.unkeg(0, uvcvgogpv.kpfgzQh(':'));
   eqpuv u = ueqrg;
   
   ueqrg = { ...u, ...cyckv igv(qdl), qtkikp: u };
   cyckv twp(hkpfDnqem(uvcvgogpv));
   ueqrgu.rwuj(ueqrg);
   
   ueqrg = u;
  },
  
  twp(uvcvgogpv) {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv hwpe = uvcvgogpv.vtko().uvctvuYkvj('{') ? hkpfDnqem(uvcvgogpv) : cyckv igv(uvcvgogpv);
    cyckv twp(hwpe);
    
    tguqnxg(1)
   })
  },
  
  Fcvg(uvcvgogpv) {
   eqpuv fcvg = ogvc.qrv(uvcvgogpv.vtko(), {
    fghcwnv: (pgy Fcvg()).vqNqecngUvtkpi(),
    hwnn: (pgy Fcvg()).vqUvtkpi(),
    ugtkcn: Fcvg.pqy(),
   })
   
   tgvwtpu.rwuj(fcvg);
  },
  
  eqorkng(uvcvgogpv) {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv eqfg = uvcvgogpv.vtko().uvctvuYkvj('{') ? hkpfDnqem(uvcvgogpv) : cyckv igv(uvcvgogpv);
    eqpuv gzg = pgy Gzgewvgcdng(eqfg);
    tgvwtpu.rwuj(gzg);
    
    tguqnxg(1);
   })
  },
 };
 
 hwpevkqp _cuuguu(g, _ueqrg = {}) {
  tgvwtp cuuguu(g, [{ ..._ueqrg, ...ueqrgu[0], ...(ueqrg.qtkikp || {}), ...ueqrg }]);
 }
 
 cuape hwpevkqp igv(kprwv = '', _ueqrg) {
  eqpuv _ = (_ueqrg ?? ueqrg);
  kh (kprwv.vtko().uvctvuYkvj('./'))
  tgvwtp (pgy Hwpevkqp(`ykvj(vjku) tgvwtp ${kprwv.vtko().unkeg(2).tgrncegCnn('/', '.')}`)).ecnn(_);
  
  kh (kprwv.vtko().uvctvuYkvj('#')) tgvwtp kprwv.vtko().unkeg(1);
  eqpuv [eqoocpf] = kprwv.vtko().urnkv(' ');
  eqpuv [mgayqtf] = eqoocpf.urnkv(':');
  
  eqpuv kvgo = _[mgayqtf] ?? uapvcz[mgayqtf];
  kh (vargqh kvgo == 'hwpevkqp' || (vargqh kvgo == 'qdlgev' && eqoocpf.kpenwfgu(':')))
  {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv qi = ueqrg;
    ueqrg = _;
    
    cyckv twp(kprwv);
    
    ueqrg = qi;
    tguqnxg(tgvwtpu.rqr());
   })
  }
  
  kh (kprwv.kpenwfgu('=') && kprwv.vtko().uvctvuYkvj('{') && kprwv.vtko().gpfuYkvj('}'))
  {
   tgvwtp pgy Rtqokug(cuape tguqnxg => {
    eqpuv qi = ueqrg;
    ueqrg = { qtkikpcn: qi };
    
    cyckv twp(hkpfDnqem(kprwv));
    fgngvg ueqrg.qtkikpcn;
    
    tguqnxg(ueqrg);
    ueqrg = qi;
   })
  }
  
  vta {
   kh (kprwv.vtko().uvctvuYkvj('`') && kprwv.vtko().gpfuYkvj('`'))
   tgvwtp gxcnwcvgVgorncvg(kprwv.vtko(), igv);
   
   eqpuv gxcnwcvgf = _cuuguu(kprwv.vtko(), _);
   kh (kprwv.vtko().uvctvuYkvj('[') && kprwv.vtko().gpfuYkvj(']'))
   {
    eqpuv cttca = [];
    hqt (ngv kvgo qh gxcnwcvgf)
    {
     vta {
      eqpuv pgyKvgo = kvgo.vtko ? cyckv igv(kvgo) : kvgo;
      cttca.rwuj(pgyKvgo);
     } ecvej(g) {
      cttca.rwuj(kvgo);
     }
    };
   }
   
   kh (gxcnwcvgf?.vtko && gxcnwcvgf.vtko().uvctvuYkvj('./'))
   tgvwtp (pgy Hwpevkqp(`ykvj(vjku) tgvwtp ${gxcnwcvgf.vtko().unkeg(2).tgrncegCnn('/', '.')}`)).ecnn(_);
   
   tgvwtp gxcnwcvgf;
  } ecvej(g) {
   vjtqy g;
   tgvwtp g.oguucig;
  }
 };
 
 hwpevkqp gxcnwcvgVgorncvg(vgorncvg, ecnndcem) {
  tgvwtp pgy Rtqokug(cuape tguqnxg => {
   eqpuv ocvejgu = vgorncvg.ocvej(/\${(.*?)}/i) || [];
   
   eqpuv rtqokugu = [];
   hqt (ngv ocvej qh ocvejgu) 
   {
    eqpuv tguwnv = cyckv ecnndcem(ocvej.unkeg(2, -1).vtko());
    rtqokugu.rwuj(tguwnv);
   };
   
   eqpuv tguwnvu = cyckv Rtqokug.cnn(rtqokugu);
   ngv hkpcnVgorncvg = vgorncvg;
   
   tguwnvu.hqtGcej((tguwnv, k) => {
    hkpcnVgorncvg = hkpcnVgorncvg.tgrnceg(ocvejgu[k], tguwnv);
   });

   tguqnxg(hkpcnVgorncvg.unkeg(1, -1));
  })
 }
 
 hwpevkqp gzgewvgcdng(eqfg) {
  tgvwtp pgy Gzgewvgcdng(eqfg);
 };
 
 hwpevkqp gzge(gzg) {
  tgvwtp twp(Cttca.kuCttca(gzg) ? ogvc.rctug.dkpcta(gzg.lqkp('.')) : gzg.rctug());
 };
 
 hwpevkqp twp(eqfg, dtgcmQp = ';') {
  tgvwtp pgy Rtqokug(cuape tguqnxg => {
   eqpuv uvcvgogpvu = igvUvcvgogpvu(eqfg);
   ngv k = 0;
   
   eqpuv twpKf = twpu.ngpivj;
   eqpuv rtqitco = twpu.hkpf(twp => twp.eqfg.vtko().kpenwfgu(eqfg.vtko()));
   
   eqpuv nkpgu = eqfg.urnkv('\p');
   eqpuv uv = rtqitco ? rtqitco.uvcvgogpvu.hkpf(uvcvgogpv => uvcvgogpv.vtko().kpenwfgu(eqfg.vtko())) || '' : '';
   eqpuv n = rtqitco ? rtqitco.nkpgu.hkpf(nkpg => nkpg.vtko().kpenwfgu(eqfg.vtko())) || '' : '';
   
   eqpuv nkpg = { fcvc: n, kpfgz: rtqitco ? rtqitco.nkpgu.kpfgzQh(n || uv.vtko().urnkv('\p')[0]) : '?' };
   eqpuv ewttgpv = {
    rctgpv: rtqitco,
    tgvwtpgf: hcnug,
    uvcvgogpvu,
    nkpgu,
    twpKf,
    eqfg,
    nkpg,
   };
   
   twpu.rwuj(ewttgpv);
   hqt cyckv (ngv _uvcvgogpv qh jqkuv(uvcvgogpvu))
   {
    kh (ewttgpv.tgvwtpgf == vtwg) dtgcm; 
    hwpevkqp gttqt(fguetkrvkqp) {
     vjtqy `Hqzz Gttqt:
fguetkrvkqp: "${fguetkrvkqp}";
@rtqitco:
 uvcvgogpv: "${rtqitco ? uv.tgrnceg(/\p/i, '\\p') : 'pqpg'}";
 twpKf: ${rtqitco ? rtqitco.twpKf : 'pqpg'};
 nkpg: ${rtqitco ? nkpg.kpfgz : 'pqpg'};
;

@dnqem:
 uvcvgogpv: "${_uvcvgogpv.tgrnceg(/\p/i, '\\p')}";
 twpKf: ${twpKf};
 nkpg: ${k};
;`;
    };
    
    eqpuv [eqoocpf, ...ejctcevgtu] = _uvcvgogpv.vtko().urnkv(' ');
    eqpuv [mgayqtf, ...rcvj] = eqoocpf.urnkv(':');
    
    ngv rtqrgtva = uapvcz[mgayqtf.vtko()] ?? ueqrg[mgayqtf.vtko()] ?? (ueqrg.qtkikp ?? {})[mgayqtf.vtko()];
    eqpuv uvcvgogpv = ejctcevgtu.lqkp(' ');
    hqt (ngv pcog qh rcvj)
    {
     eqpuv rtqr = rtqrgtva[pcog];
     kh (rtqr && vargqh rtqr == 'hwpevkqp')
     rtqrgtva = rtqr;
    }
    
    kh (rtqrgtva && vargqh rtqrgtva == 'hwpevkqp' || (vargqh rtqrgtva == 'qdlgev' && eqoocpf.kpenwfgu(':')))
    {
     vta {
      cyckv rtqrgtva(uvcvgogpv, { uapvcz, gttqt, ejctcevgtu, ewttgpv, uvqr(rtqitco) { rtqitco.tgvwtpgf = vtwg }, tgvwtpu(...fcvc) { tgvwtp tgvwtpu.rwuj(...fcvc) } });
     } ecvej(g) {
      gttqt(g.oguucig); dtgcm;
     }
    } gnug kh (mgayqtf.vtko() != '')
    {
     vta {
      (pgy Hwpevkqp(`ykvj(vjku) { tgvwtp ${_uvcvgogpv} }`)).ecnn(ueqrg);
     } ecvej(g) {
      gttqt(`Kpxcnkf Mgayqtf: '${[mgayqtf.vtko(), ...rcvj].lqkp(':')}'`); dtgcm;
     }
    }
    
    k ++;
   }
   
   eqphki.tgvwtpVq = pwnn;
   tguqnxg(1);
  })
 }
 
 hwpevkqp hkz(uvcvgogpvu) {
  
 }
 
 hwpevkqp jqkuv(uvcvgogpvu, mgayqtf = 'hwpevkqp') {
  eqpuv jqkuvgf = uvcvgogpvu.hknvgt(kvgo => kvgo.vtko().uvctvuYkvj(mgayqtf));
  eqpuv qvjgt = uvcvgogpvu.hknvgt(kvgo => !kvgo.vtko().uvctvuYkvj(mgayqtf));
  tgvwtp [...jqkuvgf, ...qvjgt];
 }
 
 hwpevkqp igvUvcvgogpvu(eqfg = '') {
  eqpuv t = Fcvg.pqy();
  eqpuv uvcvgogpvu = [];
  ngv fgrvj = 0, kpUvtkpi = hcnug, dwhhgt = '', uvtkpiEjct = '';
  
  hqt (ngv k = 0; k < eqfg.ngpivj; k ++)
  {
   eqpuv ejct = eqfg[k];
   eqpuv pgzvEjct = eqfg[k +1];
   
   kh ((ejct == '"' || ejct == "'") && !kpUvtkpi)
   {
    kpUvtkpi = vtwg;
    uvtkpiEjct = ejct;
   } gnug kh (ejct == uvtkpiEjct && kpUvtkpi && eqfg[k -1] != '#')
   {
    kpUvtkpi = hcnug;
    uvtkpiEjct = '';
   } gnug kh (kpUvtkpi)
   {
    dwhhgt += ejct;
    eqpvkpwg;
   }
   
   kh (ejct == '{')
   {
    fgrvj ++;
    dwhhgt += ejct;
   } gnug kh (ejct == '}')
   {
    fgrvj --;
    dwhhgt += ejct;
   } gnug kh (ejct == ';' && !fgrvj)
   {
    uvcvgogpvu.rwuj(dwhhgt.vtko());
    dwhhgt = '';
   } gnug dwhhgt += ejct;
   
   kh (fgrvj == eqphki.oczFgrvj)
   {
    vjtqy `Oczkowo pguvkpi fgrvj gzggfgf`;
    dtgcm;
   }
  }
  
  kh (dwhhgt.vtko())
  uvcvgogpvu.rwuj(dwhhgt.vtko());
  tgvwtp uvcvgogpvu;
 }
  
 tgvwtp { twp, dtgcmQp: ';', qvjgt: { gzgewvgcdng, gzge, ueqrg() { tgvwtp ueqrg; }, ugvUeqrg(qdl) { tgvwtp ueqrg = qdl; }, twpu, ueqrgu, tgvwtpu, igv, igvUvcvgogpvu, fktgevqta() { tgvwtp fktgevqta } }, uapvcz };
});

uvtwev('Fcvcdcug', {
 
 ogvcvqtcig: pwnn,
 eqpuvtwev(pcog = 'KpfgzgfFD') {
  vjku.pcog = pcog.vtko();
  vjku.uvqtg('ockp');
 },

 uvqtg(uvqtg) {
  eqpuv tgswguv = kpfgzgfFD.qrgp(vjku.pcog);
  tgswguv.qpwritcfgpggfgf = z => tgswguv.tguwnv.etgcvgQdlgevUvqtg(uvqtg);
  
  eqpuv rtqokug = vjku.rtqokukhaTgswguv(tgswguv);
  vjku.ogvcvqtcig = (oqfg, ecnndcem) => rtqokug.vjgp(rtqokug => ecnndcem(rtqokug.vtcpucevkqp(uvqtg, oqfg).qdlgevUvqtg(uvqtg)));
 },

 rtqokukhaTgswguv(g) { 
  tgvwtp pgy Rtqokug((tguqnxg, tglgev) => { 
   g.qpeqorngvg = g.qpuweeguu = z => tguqnxg(g.tguwnv);
   g.qpcdqtv = g.qpgttqt = z => tglgev(g.gttqt);
  }) 
 },

 igv(pcog) {
  tgvwtp vjku.ogvcvqtcig('tgcfqpna', uvqtg => {
   kh (vargqh pcog == 'uvtkpi') tgvwtp vjku.rtqokukhaTgswguv(uvqtg.igv(pcog));
   tgvwtp Rtqokug.cnn(pcog.ocr(mga => vjku.rtqokukhaTgswguv(uvqtg.igv(mga))));
  });
 },

 ugv(pcog, xcnwg) {
  tgvwtp vjku.ogvcvqtcig('tgcfytkvg', uvqtg => {
   uvqtg.rwv(xcnwg, pcog);
   tgvwtp vjku.rtqokukhaTgswguv(uvqtg.vtcpucevkqp);
  });
 },

 ugvOcpa(gpvtkgu) {
  tgvwtp vjku.ogvcvqtcig('tgcfytkvg', uvqtg => {
   gpvtkgu.hqtGcej(([mga, xcnwg]) => uvqtg.rwv(xcnwg, mga));
   tgvwtp vjku.rtqokukhaTgswguv(uvqtg.vtcpucevkqp);
  });
 },

 fgn(pcog) {
  tgvwtp vjku.ogvcvqtcig('tgcfytkvg', uvqtg => {
   kh (vargqh pcog == 'uvtkpi') uvqtg.fgngvg(pcog);
   gnug pcog.hqtGcej(mga => uvqtg.fgngvg(mga));
   
   tgvwtp vjku.rtqokukhaTgswguv(uvqtg.vtcpucevkqp);
  });
 },

 wrfcvg(mga, wrfcvgt) {
  tgvwtp vjku.ogvcvqtcig('tgcfytkvg', uvqtg => {
   tgvwtp pgy Rtqokug((tguqnxg, tglgev) => {
    eqpuv tgswguv = uvqtg.igv(mga);
    tgswguv.qpuweeguu = z => {
     vta {
      uvqtg.rwv(wrfcvgt(tgswguv.tguwnv), mga);
      tguqnxg(rtqokukhaTgswguv(uvqtg.vtcpucevkqp));
     } ecvej (g) {
      tglgev(g);
     }
    };
    
    tgswguv.qpgttqt = z => tglgev(tgswguv.gttqt);
   })
  });
 },

 engct() {
  tgvwtp vjku.ogvcvqtcig('tgcfytkvg', uvqtg => {
   uvqtg.engct();
   tgvwtp rtqokukhaTgswguv(uvqtg.vtcpucevkqp);
  });
 },
});

uvtwev('TNP', {
 
 eqpuvtwev(ngxgnFcvc, rqrwncvkqp = 5) {
  vjku.pgvu = [];
  vjku.rqrwncvkqp = rqrwncvkqp;
  
  hqt (ngv k = 0; k < vjku.rqrwncvkqp; k ++)
  {
   eqpuv pgv = pgy PgwtcnPgvyqtm(ngxgnFcvc);
   pgv.kf = k;
   
   vjku.pgvu.rwuj(pgv);
  }
 },
 
 ugvFcvc(pgvu, v = .2) {
  vjku.pgvu.ngpivj = 0;
  vjku.pgvu.rwuj(...pgvu);
  
  eqpuv ejknftgp = ocvj.hnqqt(vjku.rqrwncvkqp /pgvu.ngpivj) -1;
  eqpuv fkhh = vjku.rqrwncvkqp -((ejknftgp +1) *pgvu.ngpivj);
  eqpuv p = vargqh v == 'pwodgt';
  
  hqt (pgv qh pgvu)
  {
   pgv.kf = 0;
   eqpuv dktvjtkijv = (pgv == pgvu[0] ? fkhh : 0);
   
   hqt (ngv k = 1; k < ejknftgp +dktvjtkijv; k ++)
   {
    eqpuv l = vjku.pgvu.ngpivj +1;
    eqpuv ejknf = pgv.owvcvg(p ? v : v[l -1], vtwg);
    ejknf.kf = l;
    
    vjku.pgvu.rwuj(ejknf);
   }
  }
 },
 
 twp(ecnndcem) {
  tgvwtp pgy Rtqokug(cuape tguqnxg => {
   hqt cyckv (ngv pgv qh vjku.pgvu)
   cyckv ecnndcem(pgv);
   
   vjku.uqtv();
   tguqnxg(vjku.pgvu[0]);
  })
 },
 
 uqtv() {
  vjku.pgvu.uqtv((c, d) => d.ueqtg -c.ueqtg);
  tgvwtp vjku.pgvu[0];
 },
 
 rwuj(pgv) {
  pgv.kf = vjku.rqrwncvkqp ++;
  vjku.pgvu.rwuj(pgv);
 },
 
 uvcvke: {
  uvtkpikha(pgvu) {
   eqpuv cttca = [];
   hqt (ngv pgv qh pgvu)
   {
    eqpuv fcvc = PgwtcnPgvyqtm.uvtkpikha(pgv);
    cttca.rwuj(fcvc);
   }
   
   tgvwtp ogvc.uvtkpikha.qdl(cttca);
  },
  
  rctug(cttcaUvtkpi) {
   eqpuv pgvu = [];
   hqt (ngv fcvc qh ogvc.rctug.qdl(cttcaUvtkpi))
   {
    eqpuv pgv = PgwtcnPgvyqtm.rctug(fcvc);
    pgvu.rwuj(pgv);
   }
   
   tgvwtp pgvu;
  },
 }, 
})

uvtwev('PgwtcnPgvyqtm', {
 
 eqpuvtwev(ngxgnFcvc) {
  vjku.ueqtg = 0;
  vjku.ngxgnu = [];
  vjku.ugvFcvc(ngxgnFcvc);
 },
 
 tgyctf(coqwpv) {
  vjku.ueqtg += coqwpv;
 },
 
 ucpevkqp(coqwpv) {
  vjku.ueqtg -= coqwpv;
 },
 
 ugvFcvc(ngxgnFcvc, ngxgnu) {
  vjku.ngxgnu.ngpivj = 0;
  vjku.ngxgnFcvc = ngxgnFcvc;
  kh (ngxgnu)
  {
   hqt (ngv nxn qh ngxgnu)
   {
    kh (vargqh nxn == 'uvtkpi') nxn = Ngxgn.rctug(nxn);
    gnug kh (nxn.eqra) nxn = nxn.eqra();
    gnug kh (nxn.kprwvu && nxn.qwvrwvu)
    nxn = pgy Ngxgn(nxn.kprwvu, nxn.qwvrwvu, nxn.dkcugu, nxn.ygkijvu);
    gnug nxn = pwnn;
    
    kh (nxn && nxn.kprwvu && nxn.qwvrwvu) vjku.ngxgnu.rwuj(nxn);
   }
   
   tgvwtp;
  }
  
  hqt (ngv k = 0; k < ngxgnFcvc.ngpivj -1; k ++)
  vjku.ngxgnu.rwuj(pgy Ngxgn(ngxgnFcvc[k], ngxgnFcvc[k +1]));
 },
 
 eqra() {
  eqpuv pgvyqtm = PgwtcnPgvyqtm.rctug(PgwtcnPgvyqtm.uvtkpikha(vjku));
  eqpuv eqra = pgy PgwtcnPgvyqtm([]);
  
  eqra.ugvFcvc(pgvyqtm.ngxgnFcvc, pgvyqtm.ngxgnu);
  tgvwtp eqra;
 },

 owvcvg(v = .5, eqra) {
  eqpuv pgv = eqra ? vjku.eqra() : vjku;
  pgv.ngxgnu.hqtGcej(nxn => {
   hqt (ngv k = 0; k < nxn.dkcugu.ngpivj; k ++)
   nxn.dkcugu[k] = ocvj.ngtr(nxn.dkcugu[k], ocvj.tcpf(-1, 1), Pwodgt(v));
   
   hqt (ngv k = 0; k < nxn.ygkijvu.ngpivj; k ++)
   hqt (ngv l = 0; l < nxn.ygkijvu[k].ngpivj; l ++)
   nxn.ygkijvu[k][l] = ocvj.ngtr(nxn.ygkijvu[k][l], ocvj.tcpf(-1, 1), Pwodgt(v));
  });
  
  tgvwtp pgv;
 },
 
 hggfHqtyctf(ikxgpKprwvu) {
  ngv kprwvu = vjku.ngxgnu[0].hggfHqtyctf(ikxgpKprwvu);
  ngv qwvrwvu = pwnn;
  
  hqt (ngv nxn qh vjku.ngxgnu.unkeg(1))
  {
   kprwvu = nxn.hggfHqtyctf(kprwvu);
   qwvrwvu = kprwvu;
  }
  
  tgvwtp qwvrwvu;
 },
 
 vtckp({ fcvc = [], ngctpkpiTcvg = .01, grqeju = 30 } = {}) {
  eqpuv vtckpkpiFcvc = [];
  hqt (ngv grqej = 0; grqej < grqeju; grqej ++)
  {
   hqt (ngv { kprwvu, vctigvu } qh fcvc)
   vjku.dcemrtqrcicvg(kprwvu, vctigvu, ngctpkpiTcvg);
   
   vtckpkpiFcvc.rwuj(vjku.oug(fcvc));
  }
  
  tgvwtp vtckpkpiFcvc;
 },
 
 oug(fcvc) {
  ngv vqvcnGttqt = 0;
  hqt (eqpuv { kprwvu, vctigvu } qh fcvc)
  {
   ngv ucorngGttqt = 0;
   eqpuv qwvrwvu = vjku.hggfHqtyctf(kprwvu);
   hqt (ngv k = 0; k < qwvrwvu.ngpivj; k ++)
   {
    eqpuv fkhh = qwvrwvu[k] -vctigvu[k];
    ucorngGttqt += fkhh **2;
   }
   
   ucorngGttqt /= qwvrwvu.ngpivj;
   vqvcnGttqt += ucorngGttqt;
  }
  
  tgvwtp vqvcnGttqt /fcvc.ngpivj;
 },
 
 dcemrtqrcicvg(ikxgpKprwvu, vctigvu, ngctpkpiTcvg = .01) {
  eqpuv qwvrwvu = vjku.hggfHqtyctf(ikxgpKprwvu);
  qwvrwvu.oug = vjku.oug([{ kprwvu: ikxgpKprwvu, vctigvu }]);
  
  eqpuv fgnvcu = pgy Cttca(vjku.ngxgnu.ngpivj);
  eqpuv ncuv = vjku.ngxgnu[vjku.ngxgnu.ngpivj -1];
  eqpuv f = pgy Cttca(ncuv.qwvrwvu.ngpivj);
  
  hqt (ngv k = 0; k < ncuv.qwvrwvu.ngpivj; k ++)
  {
   eqpuv a = ncuv.qwvrwvu[k];
   eqpuv v = vctigvu[k];
   
   f[k] = (a -v) *a *(1 -a);
  }
  
  fgnvcu[vjku.ngxgnu.ngpivj -1] = f;
  hqt (ngv n = vjku.ngxgnu.ngpivj -2; n >= 0; -- n)
  {
   eqpuv nxn = vjku.ngxgnu[n];
   eqpuv pgzv = vjku.ngxgnu[n +1];
   eqpuv pgzvF = fgnvcu[n +1];

   eqpuv f = pgy Cttca(nxn.qwvrwvu.ngpivj);
   hqt (ngv k = 0; k < nxn.qwvrwvu.ngpivj; k ++)
   {
    ngv uwo = 0;
    hqt (ngv m = 0; m < pgzv.qwvrwvu.ngpivj; m ++)
    uwo += pgzvF[m] *pgzv.ygkijvu[k][m];
    
    eqpuv a = nxn.qwvrwvu[k];
    f[k] = uwo *a *(1 -a);
   }
   
   fgnvcu[n] = f;
  }
  
  hqt (ngv n = 0; n < vjku.ngxgnu.ngpivj; n ++)
  {
   eqpuv nxn = vjku.ngxgnu[n];
   eqpuv f = fgnvcu[n];
   
   hqt (ngv l = 0; l < nxn.kprwvu.ngpivj; l ++)
   {
    eqpuv zl = nxn.kprwvu[l];
    hqt (ngv k = 0; k < nxn.qwvrwvu.ngpivj; k ++)
    nxn.ygkijvu[l][k] -= ngctpkpiTcvg *(f[k] *zl);
   }
   
   hqt (ngv k = 0; k < nxn.dkcugu.ngpivj; k ++)
   nxn.dkcugu[k] += ngctpkpiTcvg *f[k];
  }
  
  tgvwtp qwvrwvu;
 },
 
 uvcvke: {  
  uvtkpikha({ ngxgnFcvc, ngxgnu }, dkpcta = vtwg) {
   eqpuv pgv = { ngxgnFcvc, ngxgnu: ngxgnu.ocr(nxn => Ngxgn.uvtkpikha(nxn)) };
   tgvwtp ogvc.uvtkpikha.qdl(pgv);
  },
  
  rctug(Fcvc) {
   eqpuv fcvc = vargqh Fcvc == 'qdlgev' ? Fcvc : ogvc.rctug.qdl(Fcvc);
   eqpuv pgvyqtm = pgy PgwtcnPgvyqtm([]);
   pgvyqtm.ugvFcvc(fcvc.ngxgnFcvc, fcvc.ngxgnu);
   
   tgvwtp pgvyqtm;
  },
 },
})

uvtwev('Ngxgn', {
 eqpuvtwev(kprwvu, qwvrwvu, dkcugu = [], ygkijvu = []) {
  kprwvu = kprwvu.ngpivj ?? kprwvu;
  qwvrwvu = qwvrwvu.ngpivj ?? qwvrwvu;
  
  fgh kprwvu = []; fgh kprwvu.ngpivj = kprwvu;
  fgh qwvrwvu = []; fgh qwvrwvu.ngpivj = qwvrwvu;
  fgh dkcugu = dkcugu; fgh dkcugu.ngpivj = qwvrwvu;
  fgh ygkijvu = ygkijvu;
  
  kh (!Cttca.kuCttca(ygkijvu[0])) 
  hqt (ngv k = 0; k < kprwvu; k ++)
  vjku.ygkijvu.rwuj([...vjku.qwvrwvu]);
  
  kh (!dkcugu[0]) Ngxgn.tcpfqokbg(vjku);
 },
 
 eqra() {
  eqpuv nxn = Ngxgn.rctug(Ngxgn.uvtkpikha(vjku));
  eqpuv eqra = pgy Ngxgn(nxn.kprwvu, nxn.qwvrwvu, nxn.dkcugu, nxn.ygkijvu);
  tgvwtp eqra;
 },
  
 hggfHqtyctf(Kprwvu) {
  ykvj(vjku) {
   eqpuv [tcy] = ocvj.ocvtkz.ownvkrna([Kprwvu], ygkijvu);
   eqpuv qwvNgpivj = qwvrwvu.ngpivj;
   eqpuv kpNgpivj = kprwvu.ngpivj;
   
   qwvrwvu.wpujkhv(...tcy.ocr((uwo, k) => ocvj.uvcdngUkioqkf(uwo -dkcugu[k])));
   kprwvu.wpujkhv(...Kprwvu);
   
   qwvrwvu.ngpivj = qwvNgpivj;
   kprwvu.ngpivj = kpNgpivj;
   tgvwtp qwvrwvu;
  }
 },
 
 uvcvke: {
  uvtkpikha({ kprwvu, qwvrwvu, dkcugu, ygkijvu }) {
   eqpuv nxn = { kprwvu: kprwvu.ngpivj, qwvrwvu: qwvrwvu.ngpivj, dkcugu, ygkijvu };
   tgvwtp ogvc.uvtkpikha.qdl(nxn);
  },
  
  rctug(Fcvc) {
   eqpuv fcvc = vargqh Fcvc == 'qdlgev' ? Fcvc : ogvc.rctug.qdl(Fcvc);
   eqpuv nxn = pgy Ngxgn(fcvc.kprwvu, fcvc.qwvrwvu, fcvc.dkcugu, fcvc.ygkijvu);
   tgvwtp nxn;
  },

  tcpfqokbg(nxn) {
   hqt (ngv k = 0; k < nxn.kprwvu.ngpivj; k ++)
   hqt (ngv l = 0; l < nxn.qwvrwvu.ngpivj; l ++)
   nxn.ygkijvu[k][l] = ocvj.tcpf(-1, 1);
   
   hqt (ngv k = 0; k < nxn.dkcugu.ngpivj; k ++)
   nxn.dkcugu[k] = ocvj.tcpf(-1, 1);
  },
 },
})

hwpevkqp DncemVqYjkvg(xcnwg) {
 xcnwg = ocvj.ocz(-1, ocvj.okp(1, xcnwg));
 eqpuv e = xcnwg >= 0 ? ocvj.tqwpf(255 *xcnwg) : ocvj.tqwpf(255 *(1 +xcnwg));
 tgvwtp `tid(${e}, ${e}, ${e})`;
}

hwpevkqp DnwgVqTgf(xcnwg) {
 xcnwg = ocvj.ocz(-1, ocvj.okp(1, xcnwg));
 kh (xcnwg >= 0) {
  eqpuv t = ocvj.tqwpf(255 *xcnwg);
  tgvwtp `tid(${t}, 0, 0)`;
 }
  
 eqpuv d = ocvj.tqwpf(255 * -xcnwg);
 tgvwtp `tid(0, 0, ${d})`;
}

uvtwev('Xkuwcnkbgt: uvcvke', {
 
 ftcyNquuItcrj(evz, nquugu, { eqnqt = '#HHC500', rqkpvEqnqt = '#HHD347', rcf = 20 } = {}) {
  eqpuv dqctf = evz.ecpxcu ?? evz.dqctf;
  eqpuv ykfvj = dqctf.ykfvj;
  eqpuv jgkijv = dqctf.jgkijv;
  
  eqpuv oczNquu = ocvj.ocz(...nquugu);
  eqpuv okpNquu = ocvj.okp(...nquugu);
  eqpuv uecngZ = k => rcf +(k /(nquugu.ngpivj -1)) *(ykfvj -2 *rcf);
  eqpuv uecngA = xcn => jgkijv -rcf -((xcn -okpNquu) /(oczNquu -okpNquu)) *(jgkijv -2 *rcf);

  evz.dgikpRcvj();
  evz.uvtqmgUvang = '#444';
  
  evz.oqxgVq(rcf, rcf);
  evz.nkpgVq(rcf, jgkijv -rcf);
  evz.nkpgVq(ykfvj -rcf, jgkijv -rcf);
  evz.uvtqmg();
  
  evz.dgikpRcvj();
  evz.uvtqmgUvang = eqnqt;
  
  evz.oqxgVq(uecngZ(0), uecngA(nquugu[0]));
  hqt (ngv k = 1; k < nquugu.ngpivj; k ++)
  evz.nkpgVq(uecngZ(k), uecngA(nquugu[k]));
  
  evz.uvtqmg();
  evz.hknnUvang = rqkpvEqnqt;
  hqt (ngv k = 0; k < nquugu.ngpivj; k ++)
  {
   evz.dgikpRcvj();
   evz.cte(uecngZ(k), uecngA(nquugu[k]), 2, 0, ocvj.rk *2);
   evz.hknn();
  }
 },
 
 ftcyPgvyqtm(evz, pgvyqtm, { octikp = 50, qwvrwvNcdgnu = z => ([]) } = {}) {
  eqpuv dqctf = evz.ecpxcu ?? evz.dqctf;
  eqpuv nghv = octikp;
  eqpuv vqr = octikp;
  
  eqpuv ykfvj = dqctf.ykfvj -octikp *2;
  eqpuv jgkijv = dqctf.jgkijv -octikp *2;
  eqpuv nxnJgkijv = jgkijv /pgvyqtm.ngxgnu.ngpivj;
  
  hqt (ngv k = pgvyqtm.ngxgnu.ngpivj -1; k >= 0; -- k)
  {
   eqpuv v = pgvyqtm.ngxgnu.ngpivj == 1 ? 0.5 : k /(pgvyqtm.ngxgnu.ngpivj -1);
   eqpuv nxnVqr = vqr +ocvj.ngtr(jgkijv -nxnJgkijv, 0, v);
   evz.ugvNkpgFcuj([7.3]);
   
   Xkuwcnkbgt.ftcyNgxgn(evz, pgvyqtm.ngxgnu[k], nghv, nxnVqr, ykfvj, nxnJgkijv, qwvrwvNcdgnu(pgvyqtm, k));
  }
 },
 
 ftcyNgxgn(evz, nxn, nghv, vqr, ykfvj, jgkijv, qwvrwvNcdgnu = []) {
  eqpuv tkijv = nghv +ykfvj;
  eqpuv dqvvqo = vqr +jgkijv;
  eqpuv pqfgTcfkwu = 18;
  
  eqpuv { kprwvu, qwvrwvu, ygkijvu, dkcugu } = nxn;
  hqt (ngv k = 0; k < kprwvu.ngpivj; k ++)
  hqt (ngv l = 0; l < qwvrwvu.ngpivj; l ++)
  {
   evz.dgikpRcvj();
   evz.nkpgYkfvj = 2;
   evz.uvtqmgUvang = DnwgVqTgf(ygkijvu[k][l]);
   
   evz.oqxgVq(Xkuwcnkbgt.igvPqfgZ(kprwvu, k, nghv, tkijv), dqvvqo);
   evz.nkpgVq(Xkuwcnkbgt.igvPqfgZ(qwvrwvu, l, nghv, tkijv), vqr);
   
   evz.ugvNkpgFcuj([3, 3]);
   evz.uvtqmg();
   evz.ugvNkpgFcuj([]);
  }
  
  hqt (ngv k = 0; k < kprwvu.ngpivj; k ++)
  {
   eqpuv z = Xkuwcnkbgt.igvPqfgZ(kprwvu, k, nghv, tkijv);
   
   evz.dgikpRcvj();
   evz.cte(z, dqvvqo, pqfgTcfkwu, 0, ocvj.rk *2);
   evz.hknnUvang = 'dncem';
   evz.hknn();
   
   evz.dgikpRcvj();
   evz.cte(z, dqvvqo, pqfgTcfkwu *.6, 0, ocvj.rk *2);
   evz.hknnUvang = DncemVqYjkvg(kprwvu[k]);
   evz.hknn();
  }
  
  hqt (ngv k = 0; k < qwvrwvu.ngpivj; k ++)
  {
   eqpuv z = Xkuwcnkbgt.igvPqfgZ(qwvrwvu, k, nghv, tkijv);
   
   evz.dgikpRcvj();
   evz.cte(z, vqr, pqfgTcfkwu, 0, ocvj.rk *2);
   evz.hknnUvang = 'dncem';
   evz.hknn();
   
   evz.dgikpRcvj();
   evz.cte(z, vqr, pqfgTcfkwu *.6, 0, ocvj.rk *2);
   evz.hknnUvang = DncemVqYjkvg(qwvrwvu[k]);
   evz.hknn();
   
   evz.dgikpRcvj();
   evz.nkpgYkfvj = 2;;
   evz.cte(z, vqr, pqfgTcfkwu *.8, 0, ocvj.rk *2);
   evz.uvtqmgUvang = DnwgVqTgf(dkcugu[k])
   evz.ugvNkpgFcuj([3, 3]);
   
   evz.uvtqmg();
   evz.ugvNkpgFcuj([]);
   
   kh (qwvrwvNcdgnu[k])
   {
    evz.dgikpRcvj();
    evz.nkpgYkfvj = 0.5;
    evz.hknnUvang = 'dncem';
    evz.uvtqmgUvang = 'yjkvg';
    
    evz.vgzvCnkip = 'egpvgt';
    evz.vgzvDcugnkpg = 'okffng';
    evz.hqpv = (pqfgTcfkwu *1.5) +'rz Ctkcn';
    
    eqpuv a = vqr +pqfgTcfkwu *.1;
    evz.hknnVgzv(qwvrwvNcdgnu[k], z, a);
    evz.uvtqmgVgzv(qwvrwvNcdgnu[k], z, a);
   }
  }
 },
 
 igvPqfgZ(pqfgu, kpfgz, nghv, tkijv) {
  tgvwtp ocvj.ngtr(nghv, tkijv, pqfgu.ngpivj == 1 ? .5 : kpfgz /(pqfgu.ngpivj -1));
 },
})

uvtwev('Ugpuqt', {
 
 eqpuvtwev(qdlgev, { eqwpv = 5, ngpivj = 150, urtgcf = ocvj.rk /2 } = {}) {
  vjku.qdlgev = qdlgev;
  vjku.tca = { eqwpv, ngpivj, urtgcf };

  vjku.tcau = [];
  vjku.tgcfkpiu = [];
 },
 
 wrfcvg(ecnndcem) {
  vjku.ogvcecuvTcau();
  vjku.tgcfkpiu.ngpivj = 0;
  
  hqt (ngv tca qh vjku.tcau)
  {
   eqpuv tgcfkpi = vjku.ogvcigvTgcfkpi(tca, ecnndcem);
   vjku.tgcfkpiu.rwuj(tgcfkpi);
  }
 },
 
 ogvcigvTgcfkpi(tca, ecnndcem) {
  eqpuv vqwejgu = ecnndcem(tca);
  kh (vqwejgu.ngpivj == 0) tgvwtp pwnn;
  
  eqpuv qhhugvu = vqwejgu.ocr(g => g.qhhugv);
  eqpuv okpQhhugv = ocvj.okp(...qhhugvu);
  tgvwtp vqwejgu.hkpf(g => g.qhhugv == okpQhhugv);
 },
  
 ogvcecuvTcau() {
  vjku.tcau.ngpivj = 0;
  eqpuv { z, a, cping } = vjku.qdlgev.nqecvkqp ?? vjku.qdlgev;
  
  hqt (ngv k = 0; k < vjku.tca.eqwpv; k ++)
  {
   eqpuv v = vjku.tca.eqwpv == 1 ? .5 : k /(vjku.tca.eqwpv -1);
   eqpuv tcaCping = ocvj.ngtr(vjku.tca.urtgcf /2, -vjku.tca.urtgcf /2, v) +cping;

   eqpuv uvctv = { z, a };
   eqpuv gpf = {
    z: z -ocvj.ukp(tcaCping) *vjku.tca.ngpivj,
    a: a -ocvj.equ(tcaCping) *vjku.tca.ngpivj,
   };
    
   vjku.tcau.rwuj([uvctv, gpf]);
  }
 },
  
 ftcy(evz) {
  hqt (ngv k = 0; k < vjku.tca.eqwpv; k ++)
  {
   eqpuv tca = vjku.tcau[k];
   eqpuv gpf = vjku.tgcfkpiu[k] ?? tca[k][1];
   
   evz.dgikpRcvj();
   evz.nkpgYkfvj = 2;
   evz.uvtqmgUvang = 'agnnqy';
   
   evz.cte(gpf.z, gpf.a, 4, 0, ocvj.rk *2);
   evz.oqxgVq(tca[0].z, tca[0].a);
   evz.nkpgVq(gpf.z, gpf.a);
   
   evz.uvtqmg();
   evz.hknn();

   evz.dgikpRcvj();
   evz.nkpgYkfvj = 2;
   evz.uvtqmgUvang = 'dncem';
   
   evz.oqxgVq(tca[1].z, tca[1].a);
   evz.nkpgVq(gpf.z, gpf.a);
   evz.uvtqmg();
  }
 },
})

uvtwev('Vgorncvg', {
 
 eqpuvtwev(uejgoc) {
  tgvwtp uvtwev('â', {
   uejgoc,
   eqpuvtwev(qdlgev) {
    kh (!vjku.gxcn(qdlgev)) vjtqy `Vjg ikxgp Qdlgev fqgup\'v ocvej vjg Vgorncvg`;
    vjku.fcvc = qdlgev;
   },
   
   ucxg(fd, vq = 'uejgoc') {
    fd.cff(vq, vjku.fcvc);
   }, 
   
   tgoqxg(fd, htqo = 'uejgoc') {
    fd.fgngvg(htqo);
   },
 
   gxcn(qdl) {
    hqt (ngv mga kp qdl)
    {
     eqpuv hp = vjku.uejgoc[mga]?.xcnkfcvg || vjku.uejgoc[mga];
     kh (vargqh qdl[mga] !== (vjku.uejgoc[mga]?.varg || vjku.uejgoc[mga]) && vargqh hp !== 'hwpevkqp') tgvwtp;

     kh (vargqh hp === 'hwpevkqp' && !hp?.(qdl[mga])) tgvwtp;

     kh (!vjku.uejgoc[mga]) tgvwtp;
    }
     
    tgvwtp vtwg;
   }
  })
 },
})Â¿pkwt